<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bashira — Brawl Stars Analytics</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--bg:#08081a;--bg2:#0d0d24;--bg3:#12122e;--bg4:#1a1a3a;--bg5:#222244;
--border:#1a1a38;--border-l:#2a2a50;
--green:#2ecc71;--green-d:#1a7a42;--green-bg:rgba(46,204,113,.12);
--red:#e74c3c;--red-bg:rgba(231,76,60,.12);
--yellow:#f1c40f;--yellow-bg:rgba(241,196,15,.12);
--blue:#3498db;--purple:#9b59b6;
--t1:#f0f0f0;--t2:#a0a0c0;--t3:#606080;--t4:#404060;
--font:'Outfit',sans-serif;--mono:'JetBrains Mono',monospace;
}
html,body{height:100%;overflow:hidden}
body{background:var(--bg);background-image:radial-gradient(ellipse at 15% 0%,rgba(46,204,113,.06) 0%,transparent 50%),radial-gradient(ellipse at 85% 100%,rgba(155,89,182,.05) 0%,transparent 50%);color:var(--t1);font-family:var(--font);font-size:15px}
::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--border-l);border-radius:3px}
.app{height:100vh;display:flex;flex-direction:column}
.topbar{height:54px;background:var(--bg2);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:0 24px;flex-shrink:0;z-index:20;backdrop-filter:blur(8px)}
.topbar-left{display:flex;align-items:center;gap:16px}
.logo{font-weight:900;font-size:20px;cursor:pointer;text-transform:uppercase;letter-spacing:1px}.logo span{color:var(--green)}
.back-btn{display:none;padding:6px 14px;border-radius:8px;border:1px solid var(--border);background:var(--bg3);color:var(--t2);cursor:pointer;font-family:var(--font);font-size:13px;font-weight:600;transition:all .2s}
.back-btn:hover{border-color:var(--green);color:var(--t1)}
.back-btn.show{display:inline-flex;align-items:center;gap:4px}
.page-label{font-size:13px;font-weight:700;color:var(--t3);text-transform:uppercase;letter-spacing:1px}
.topbar-right{display:flex;align-items:center;gap:10px}
.avatar{width:32px;height:32px;border-radius:8px;object-fit:cover;border:2px solid var(--green)}
.user-name{font-weight:700;font-size:14px}
.demo-strip{background:rgba(46,204,113,.06);border-bottom:1px solid rgba(46,204,113,.12);padding:5px 24px;font-size:12px;color:var(--green);flex-shrink:0}
.demo-strip a{color:var(--green);text-decoration:underline;cursor:pointer}
.main-scroll{flex:1;overflow-y:auto}
.home{max-width:860px;margin:0 auto;padding:56px 24px;text-align:center}
.home h1{font-size:36px;font-weight:900;margin-bottom:4px}.home h1 span{color:var(--green)}
.home-sub{color:var(--t2);font-size:15px;margin-bottom:44px}
.home-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:36px;max-width:720px;margin-left:auto;margin-right:auto}
.hcard{background:linear-gradient(135deg,var(--bg2),var(--bg3));border:1px solid var(--border);border-radius:16px;padding:18px 22px;cursor:pointer;transition:all .25s;display:flex;align-items:center;gap:14px;min-width:200px;box-shadow:0 4px 16px rgba(0,0,0,.35)}
.hcard:hover{border-color:var(--green);box-shadow:0 0 20px rgba(46,204,113,.18),0 4px 16px rgba(0,0,0,.4);transform:translateY(-3px);background:linear-gradient(135deg,var(--bg3),var(--bg4))}
.hcard-ico{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle,rgba(255,255,255,.08),rgba(255,255,255,.02));border:1.5px solid rgba(255,255,255,.1);flex-shrink:0;box-shadow:inset 0 1px 2px rgba(255,255,255,.05),0 2px 8px rgba(0,0,0,.3)}
.hcard-ico img{width:32px!important;height:32px!important;object-fit:contain!important;filter:drop-shadow(0 2px 4px rgba(0,0,0,.5))}
.hcard-label{font-weight:800;font-size:12px;text-transform:uppercase;letter-spacing:1px;color:var(--t1)}
.hcard-desc{font-size:10px;color:var(--t3);margin-top:3px;letter-spacing:.3px}
.home-stats{font-size:13px;color:var(--t3)}.home-stats b{color:var(--green);font-family:var(--mono)}
.page{display:none;padding:24px;max-width:1200px;margin:0 auto}.page.active{display:block}
.pills{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:16px}
.pill{padding:7px 16px;border-radius:20px;border:1px solid var(--border);background:transparent;color:var(--t2);cursor:pointer;font-family:var(--font);font-size:12.5px;font-weight:600;transition:all .15s}
.pill:hover{border-color:var(--t3);color:var(--t1)}.pill.active,.pill.green{background:var(--green);color:#000;border-color:var(--green)}
.pill.white{background:var(--t1);color:#000;border-color:var(--t1)}
.search-box{width:100%;max-width:360px;padding:9px 14px;border-radius:10px;border:1px solid var(--border);background:var(--bg3);color:var(--t1);font-family:var(--font);font-size:14px;outline:none;margin-bottom:16px}
.search-box:focus{border-color:var(--green)}.search-box::placeholder{color:var(--t3)}
table{width:100%;border-collapse:separate;border-spacing:0}
th{font-size:11px;font-weight:700;color:var(--t3);text-transform:uppercase;letter-spacing:1px;padding:12px 16px;text-align:left;border-bottom:1px solid var(--border)}
td{padding:14px 16px;border-bottom:1px solid var(--border);font-size:14px;color:var(--t2)}
tr:hover td{background:var(--bg3)}
.brawler-cell{display:flex;align-items:center;gap:10px;font-weight:700;color:var(--t1)}
.bico{width:36px;height:36px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:14px;color:#fff;flex-shrink:0;box-shadow:0 2px 6px rgba(0,0,0,.3)}
.bico-sm{width:28px;height:28px;border-radius:6px;display:inline-flex;align-items:center;justify-content:center;font-weight:800;font-size:10px;color:#fff;flex-shrink:0;box-shadow:0 1px 4px rgba(0,0,0,.3)}
.wr-g{color:var(--green);font-family:var(--mono);font-weight:700}
.wr-r{color:var(--red);font-family:var(--mono);font-weight:700}
.wr-y{color:var(--yellow);font-family:var(--mono);font-weight:700}
.b-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(56px,1fr));gap:6px}
.b-icon{width:56px;height:56px;border-radius:10px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .15s;font-weight:800;font-size:16px;color:#fff;border:2px solid transparent;overflow:hidden;position:relative}
.b-icon:hover{border-color:var(--green);transform:scale(1.08)}
.b-icon.sel{border-color:var(--green);box-shadow:0 0 12px rgba(46,204,113,.3)}
.b-icon-name{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(transparent,rgba(0,0,0,.9));padding:2px 1px 3px;font-size:7.5px;font-weight:700;color:#fff;text-align:center;text-transform:uppercase;letter-spacing:.2px;line-height:1}
.kpi-row{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:20px}
.kpi{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:16px}
.kpi-label{font-size:10px;font-weight:700;color:var(--t3);text-transform:uppercase;letter-spacing:1px;margin-bottom:6px}
.kpi-val{font-size:28px;font-weight:900;font-family:var(--mono)}
.kpi-sub{font-size:11px;color:var(--t3);margin-top:2px}
.card{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:20px;margin-bottom:16px;box-shadow:0 2px 12px rgba(0,0,0,.3)}
.card-t{font-weight:700;font-size:12px;color:var(--t3);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px}
.badge{display:inline-block;padding:3px 10px;border-radius:6px;font-size:11px;font-weight:700;font-family:var(--mono)}
.badge-w{background:var(--green-bg);color:var(--green)}.badge-l{background:var(--red-bg);color:var(--red)}
.btn{padding:8px 16px;border-radius:8px;border:1px solid var(--border);background:var(--bg3);color:var(--t1);cursor:pointer;font-family:var(--font);font-size:13px;font-weight:600;transition:all .2s}
.btn:hover{border-color:var(--green)}.btn-g{background:var(--green);color:#000;border-color:var(--green)}.btn-g:hover{background:#27ae60}
.chart-box{height:220px;position:relative}
.hm-wrap{overflow-x:auto;background:var(--bg2);border:1px solid var(--border);border-radius:12px}
.hm{border-collapse:collapse;width:100%;min-width:600px}
.hm th{padding:8px 4px;font-size:9px;text-align:center;background:var(--bg2);border:1px solid var(--bg);font-weight:700;color:var(--t2)}
.hm td{padding:0;text-align:center;font-family:var(--mono);border:1px solid var(--bg);min-width:72px;height:56px;vertical-align:middle}
.hm-cell{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;padding:4px 2px}
.hm-wr{font-size:13px;font-weight:800}
.hm-wl{font-size:9px;opacity:.8}
.hm .rh{background:var(--bg2);font-family:var(--font);font-weight:700;font-size:12px;text-align:left;padding:8px 10px;min-width:140px;position:sticky;left:0;z-index:1;border:1px solid var(--bg)}
.hm .rh-inner{display:flex;align-items:center;gap:8px}
.team-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:14px}
.tc{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:18px}
.tc:hover{border-color:var(--border-l)}
.tc-head{display:flex;align-items:center;gap:12px;margin-bottom:14px}
.tc-logo{width:42px;height:42px;border-radius:10px;background:var(--bg4);display:flex;align-items:center;justify-content:center;font-weight:900;font-size:15px}
.tc-name{font-weight:800;font-size:16px;text-transform:uppercase}
.tc-sub{font-size:11px;color:var(--t3)}
.tc-row{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.tc-cell{text-align:center}
.tc-cell-val{font-family:var(--mono);font-weight:800;font-size:16px;padding:6px 4px;border-radius:8px}
.tc-cell-lbl{font-size:9px;color:var(--t3);text-transform:uppercase;letter-spacing:.5px;margin-top:3px;font-weight:600}
.draft-board{display:grid;grid-template-columns:1fr auto 1fr;gap:16px;align-items:start}
.draft-side{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:20px}
.draft-vs{display:flex;align-items:center;justify-content:center;font-size:28px;font-weight:900;color:var(--t3);padding-top:40px}
.draft-slots{display:flex;gap:8px;margin-bottom:16px}
.d-slot{width:70px;height:70px;border-radius:10px;border:2px dashed var(--border-l);display:flex;align-items:center;justify-content:center;flex-direction:column;cursor:pointer;font-size:10px;color:var(--t3);background:var(--bg3);transition:all .2s}
.d-slot:hover{border-color:var(--green)}.d-slot.filled{border:2px solid var(--green)}.d-slot.red-filled{border:2px solid var(--red)}
.draft-result{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:20px;margin-top:16px}
.adv-bar{height:32px;border-radius:8px;overflow:hidden;display:flex;margin:12px 0}
.adv-bar-l{background:var(--green);transition:width .5s}
.adv-bar-r{background:var(--red);transition:width .5s}
.map-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px}
.map-card{background:var(--bg3);border:1px solid var(--border);border-radius:10px;overflow:hidden}
.map-card-top{height:28px;display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:#fff}
.map-card-body{padding:10px;text-align:center}
.map-card-name{font-size:11px;font-weight:700;text-transform:uppercase;margin-bottom:4px}
.map-card-wr{font-size:22px;font-weight:800;font-family:var(--mono)}
.map-card-sub{font-size:10px;color:var(--t3)}
.dropzone{border:2px dashed var(--border-l);border-radius:14px;padding:44px;text-align:center;cursor:pointer;transition:all .3s}
.dropzone:hover{border-color:var(--green)}
@keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.fade{animation:fadeUp .3s ease-out}
@media(max-width:768px){.home-grid{grid-template-columns:1fr}.kpi-row{grid-template-columns:repeat(2,1fr)}.team-grid{grid-template-columns:1fr}.draft-board{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="app">
<div class="topbar">
  <div class="topbar-left">
    <div class="logo" onclick="goHome()"><span style="color:var(--green);font-weight:900">⚔</span> <span>Bashira</span></div>
    <button class="back-btn" id="backBtn" onclick="goHome()">← Home</button>
    <span class="page-label" id="pageLabel"></span>
  </div>
  <div class="topbar-right"><span id="syncBadge" style="font-size:11px;font-weight:700;margin-right:8px;font-family:var(--mono)"></span><img class="avatar" src="data:image/png;base64,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kw4Rvvgkf/M5dB+rdXizF8zBlrhfmfJFjIswPudD+tcq6onUIGQsa+B/efY6H1TR61VfHmXnxc/FkNHd5nVg1ebFZx5GUn5gftX1tP8AVAGXGT7Az1PSPWl9I0esBw4cq6jE2Ml7+0Edjmfgya/VjKMg1D7vzPZ1P6oz5PR8eiQkOAQzE3ffx8wPvc3rXpbM5OpQAHkbhObN616VqGOmOoU7l5JIn5VkyOSbyE3yZUZCrBtx9u4Hb68mnTX5foMGS+KM82+JZ3DCZwEREBERAsAZ1aPEM2RVNAA83OZDZAnf9uLGNrUxgfSpkfTJgXQsxQAE+1zz/wBQ5dJqazLjKZj+8SnpmvOLD9I0RXZmXq2TEcaqGBbu6gc+i1P035xjqhcz1i463BrYn+JmmVQhtbbwbldRmORABQA6gYuRKrkbFew9iQ56uVJsQJ32eZcFdv5mMvAggbviStgkDiRuixA0x5CgoGGdmNtzM7EmBSTuMiIE2ZBiICIiBK9yWlYgaAiuzI4+ZSIF5VpEQEREBERAREQJXgy+5gbu5nEDY5XZgASJD5GLfcxlBKwL2fBkEn3MrECSSZERASbMiIEmREQEsOpWICWoSsmzAnaJB7izIgSBcnaJANSVNwG0RtEk9StmBO0RtEAyYEbRIIqSTzIJuBEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERA//Z"><span class="user-name">bashira</span></div>
</div>
<div class="demo-strip" id="demoBanner">⚔ Demo mode — <a onclick="go('import')">Importer vos données</a></div>
<div class="main-scroll" id="mainScroll">
  <div id="homeScreen"></div>
  <div class="page" id="pg-overview"></div>
  <div class="page" id="pg-meta"></div>
  <div class="page" id="pg-brawlers"></div>
  <div class="page" id="pg-teams"></div>
  <div class="page" id="pg-h2h"></div>
  <div class="page" id="pg-tracker"></div>
  <div class="page" id="pg-draft"></div>
  <div class="page" id="pg-maps"></div>
  <div class="page" id="pg-import"></div>
</div>
</div>
<script>
// ═══ CONFIG ═══
var BC={"8-Bit":"#30a060",Alli:"#e06080",Amber:"#e67e22",Angelo:"#3090e0",Ash:"#a0603a",Barley:"#d4a040",Bea:"#f0c020",Belle:"#ffd700",Berry:"#8030a0",Bibi:"#d04060",Bo:"#2e7d32",Bonnie:"#d07050",Brock:"#6c3483",Bull:"#a04020",Buster:"#c0392b",Buzz:"#e08020",Byron:"#7d3c98",Carl:"#6080c0",Charlie:"#a060d0",Chester:"#c060d0",Chuck:"#4080a0",Clancy:"#30a070",Colette:"#a040c0",Colt:"#c0392b",Cordelius:"#506030",Crow:"#f1c40f",Darryl:"#e07020",Doug:"#d0a060",Draco:"#d03020",Dynamike:"#d09040",Edgar:"#802040","El Primo":"#408020",Emz:"#9c27b0",Eve:"#60d060",Fang:"#2c3ee0",Finx:"#c050e0",Frank:"#6d4c1e",Gale:"#2980b9",Gene:"#8060c0",Gigi:"#d04060",Glowbert:"#f0d060",Gray:"#707070",Griff:"#c09030",Grom:"#a0402e",Gus:"#40a080",Hank:"#508030",Jacky:"#d07050","Jae-Yong":"#3070b0",Janet:"#e060a0",Jessie:"#c04040",Juju:"#d0a020",Kaze:"#c03050",Kenji:"#a03050",Kit:"#d09060","Larry & Lawrie":"#608040",Leon:"#1abc9c",Lily:"#40d090",Lola:"#d04070",Lou:"#60b0e0",Lumi:"#60d0f0",Maisie:"#6040a0",Mandy:"#d040a0",Max:"#f0d040",Meeple:"#60a0e0",Meg:"#d050a0",Melodie:"#9040d0",Mico:"#40d0d0",Mina:"#b04080",Moe:"#d07030",Mortis:"#5c2d91","Mr. P":"#3060a0",Nani:"#e060e0",Nita:"#c06030",Ollie:"#50b080",Otis:"#3080b0",Pam:"#50a060",Pearl:"#d0a080",Penny:"#c06040",Pierce:"#d04050",Piper:"#e080a0",Poco:"#3080d0","R-T":"#40a0d0",Rico:"#27ae60",Rosa:"#50a040",Ruffs:"#5070a0",Sam:"#a07030",Sandy:"#d4a340",Shade:"#353550",Shelly:"#8b6914",Spike:"#2ecc71",Sprout:"#60c050",Squeak:"#d4c040",Stu:"#ff6f00",Surge:"#8e44ad",Tara:"#5040a0",Tick:"#4090d0",Trunk:"#70a030",Willow:"#706090",Ziggy:"#e070d0"};
var BID={"8-Bit":16000027,Alli:16000095,Amber:16000040,Angelo:16000078,Ash:16000051,Barley:16000006,Bea:16000029,Belle:16000046,Berry:16000081,Bibi:16000026,Bo:16000014,Bonnie:16000057,Brock:16000003,Bull:16000002,Buster:16000061,Buzz:16000049,Byron:16000042,Carl:16000025,Charlie:16000073,Chester:16000062,Chuck:16000072,Clancy:16000082,Colette:16000039,Colt:16000001,Cordelius:16000069,Crow:16000012,Darryl:16000018,Doug:16000070,Draco:16000079,Dynamike:16000009,Edgar:16000043,"El Primo":16000010,Emz:16000030,Eve:16000055,Fang:16000054,Finx:16000092,Frank:16000020,Gale:16000035,Gene:16000021,Gigi:16000100,Glowbert:16000101,Gray:16000063,Griff:16000050,Grom:16000048,Gus:16000060,Hank:16000068,Jacky:16000034,"Jae-Yong":16000093,Janet:16000056,Jessie:16000007,Juju:16000087,Kaze:16000094,Kenji:16000085,Kit:16000075,"Larry & Lawrie":16000076,Leon:16000023,Lily:16000080,Lola:16000053,Lou:16000041,Lumi:16000091,Maisie:16000067,Mandy:16000064,Max:16000032,Meeple:16000089,Meg:16000052,Melodie:16000077,Mico:16000074,Mina:16000097,Moe:16000084,Mortis:16000011,"Mr. P":16000031,Nani:16000036,Nita:16000008,Ollie:16000090,Otis:16000058,Pam:16000016,Pearl:16000071,Penny:16000019,Pierce:16000099,Piper:16000015,Poco:16000013,"R-T":16000065,Rico:16000004,Rosa:16000024,Ruffs:16000044,Sam:16000059,Sandy:16000028,Shade:16000086,Shelly:16000000,Spike:16000005,Sprout:16000033,Squeak:16000047,Stu:16000045,Surge:16000038,Tara:16000017,Tick:16000022,Trunk:16000096,Willow:16000066,Ziggy:16000098};
var BCLS={"8-Bit":"Damage Dealer",Alli:"Assassin",Amber:"Damage Dealer",Angelo:"Marksman",Ash:"Tank",Barley:"Controller",Bea:"Marksman",Belle:"Marksman",Berry:"Controller",Bibi:"Tank",Bo:"Controller",Bonnie:"Marksman",Brock:"Marksman",Bull:"Tank",Buster:"Tank",Buzz:"Assassin",Byron:"Support",Carl:"Damage Dealer",Charlie:"Controller",Chester:"Damage Dealer",Chuck:"Damage Dealer",Clancy:"Damage Dealer",Colette:"Damage Dealer",Colt:"Damage Dealer",Cordelius:"Assassin",Crow:"Assassin",Darryl:"Tank",Doug:"Support",Draco:"Tank",Dynamike:"Artillery",Edgar:"Assassin","El Primo":"Tank",Emz:"Controller",Eve:"Damage Dealer",Fang:"Assassin",Finx:"Controller",Frank:"Tank",Gale:"Support",Gene:"Support",Gigi:"Assassin",Glowbert:"Support",Gray:"Support",Griff:"Damage Dealer",Grom:"Artillery",Gus:"Support",Hank:"Tank",Jacky:"Tank","Jae-Yong":"Support",Janet:"Marksman",Jessie:"Controller",Juju:"Artillery",Kaze:"Assassin",Kenji:"Assassin",Kit:"Support","Larry & Lawrie":"Controller",Leon:"Assassin",Lily:"Assassin",Lola:"Damage Dealer",Lou:"Controller",Lumi:"Damage Dealer",Maisie:"Marksman",Mandy:"Marksman",Max:"Support",Meeple:"Controller",Meg:"Damage Dealer",Melodie:"Assassin",Mico:"Assassin",Mina:"Support",Moe:"Artillery",Mortis:"Assassin","Mr. P":"Controller",Nani:"Marksman",Nita:"Damage Dealer",Ollie:"Tank",Otis:"Controller",Pam:"Support",Pearl:"Damage Dealer",Penny:"Controller",Pierce:"Marksman",Piper:"Marksman",Poco:"Support","R-T":"Damage Dealer",Rico:"Damage Dealer",Rosa:"Tank",Ruffs:"Support",Sam:"Assassin",Sandy:"Controller",Shade:"Assassin",Shelly:"Damage Dealer",Spike:"Controller",Sprout:"Controller",Squeak:"Controller",Stu:"Assassin",Surge:"Damage Dealer",Tara:"Assassin",Tick:"Artillery",Trunk:"Tank",Willow:"Controller",Ziggy:"Controller"};
var CLASSES=["Damage Dealer","Assassin","Controller","Support","Marksman","Tank","Artillery"];
var CLASS_ICO={"Damage Dealer":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNCIgZmlsbD0iI2U3NGMzYyIgb3BhY2l0eT0iLjIiLz48cGF0aCBkPSJNMTAgMjJMMjIgMTBNMTAgMTBsMTIgMTIiIHN0cm9rZT0iI2U3NGMzYyIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIzIiBmaWxsPSIjZTc0YzNjIi8+PC9zdmc+","Assassin":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNCIgZmlsbD0iIzliNTliNiIgb3BhY2l0eT0iLjIiLz48cGF0aCBkPSJNMTYgNEwxOSAxNEgyNkwyMCAyMEwyMyAyOEwxNiAyM0w5IDI4TDEyIDIwTDYgMTRIMTNaIiBmaWxsPSIjOWI1OWI2Ii8+PC9zdmc+","Controller":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNCIgZmlsbD0iIzM0OThkYiIgb3BhY2l0eT0iLjIiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxMCIgc3Ryb2tlPSIjMzQ5OGRiIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSI1IiBzdHJva2U9IiMzNDk4ZGIiIHN0cm9rZS13aWR0aD0iMiIgZmlsbD0ibm9uZSIvPjxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIHI9IjIiIGZpbGw9IiMzNDk4ZGIiLz48bGluZSB4MT0iMTYiIHkxPSIyIiB4Mj0iMTYiIHkyPSI4IiBzdHJva2U9IiMzNDk4ZGIiIHN0cm9rZS13aWR0aD0iMiIvPjxsaW5lIHgxPSIxNiIgeTE9IjI0IiB4Mj0iMTYiIHkyPSIzMCIgc3Ryb2tlPSIjMzQ5OGRiIiBzdHJva2Utd2lkdGg9IjIiLz48bGluZSB4MT0iMiIgeTE9IjE2IiB4Mj0iOCIgeTI9IjE2IiBzdHJva2U9IiMzNDk4ZGIiIHN0cm9rZS13aWR0aD0iMiIvPjxsaW5lIHgxPSIyNCIgeTE9IjE2IiB4Mj0iMzAiIHkyPSIxNiIgc3Ryb2tlPSIjMzQ5OGRiIiBzdHJva2Utd2lkdGg9IjIiLz48L3N2Zz4=","Support":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNCIgZmlsbD0iIzJlY2M3MSIgb3BhY2l0eT0iLjIiLz48cmVjdCB4PSIxMyIgeT0iNiIgd2lkdGg9IjYiIGhlaWdodD0iMjAiIHJ4PSIyIiBmaWxsPSIjMmVjYzcxIi8+PHJlY3QgeD0iNiIgeT0iMTMiIHdpZHRoPSIyMCIgaGVpZ2h0PSI2IiByeD0iMiIgZmlsbD0iIzJlY2M3MSIvPjwvc3ZnPg==","Marksman":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNCIgZmlsbD0iI2YzOWMxMiIgb3BhY2l0eT0iLjIiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxMCIgc3Ryb2tlPSIjZjM5YzEyIiBzdHJva2Utd2lkdGg9IjIuNSIgZmlsbD0ibm9uZSIvPjxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIHI9IjQiIHN0cm9rZT0iI2YzOWMxMiIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIi8+PGxpbmUgeDE9IjE2IiB5MT0iMiIgeDI9IjE2IiB5Mj0iMTAiIHN0cm9rZT0iI2YzOWMxMiIgc3Ryb2tlLXdpZHRoPSIyIi8+PGxpbmUgeDE9IjE2IiB5MT0iMjIiIHgyPSIxNiIgeTI9IjMwIiBzdHJva2U9IiNmMzljMTIiIHN0cm9rZS13aWR0aD0iMiIvPjxsaW5lIHgxPSIyIiB5MT0iMTYiIHgyPSIxMCIgeTI9IjE2IiBzdHJva2U9IiNmMzljMTIiIHN0cm9rZS13aWR0aD0iMiIvPjxsaW5lIHgxPSIyMiIgeTE9IjE2IiB4Mj0iMzAiIHkyPSIxNiIgc3Ryb2tlPSIjZjM5YzEyIiBzdHJva2Utd2lkdGg9IjIiLz48L3N2Zz4=","Tank":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNCIgZmlsbD0iIzFhYmM5YyIgb3BhY2l0eT0iLjIiLz48cGF0aCBkPSJNMTYgNEwyOCAyNEg0WiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMWFiYzljIiBzdHJva2Utd2lkdGg9IjIuNSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Ik0xNiAxMEwyMyAyMkg5WiIgZmlsbD0iIzFhYmM5YyIgb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjE3IiByPSIzIiBmaWxsPSIjMWFiYzljIi8+PC9zdmc+","Artillery":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNCIgZmlsbD0iI2U2N2UyMiIgb3BhY2l0eT0iLjIiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSI4IiBmaWxsPSIjZTY3ZTIyIi8+PHBhdGggZD0iTTEwIDhMOCA0TTIyIDhMMjQgNE0xMCAyNEw4IDI4TTIyIDI0TDI0IDI4TTYgMTJMMiAxMU0yNiAxMkwzMCAxMU02IDIwTDIgMjFNMjYgMjBMMzAgMjEiIHN0cm9rZT0iI2U2N2UyMiIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48L3N2Zz4="};
function clsIco(cls,sz){sz=sz||16;var src=CLASS_ICO[cls];if(!src)return '';return '<img src="'+src+'" width="'+sz+'" height="'+sz+'" style="vertical-align:middle">';}
var SEC_ICO={wrmode:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cmVjdCB4PSIyIiB5PSI0IiB3aWR0aD0iNSIgaGVpZ2h0PSI4IiByeD0iMSIgZmlsbD0iIzJlY2M3MSIgb3BhY2l0eT0iLjciLz48cmVjdCB4PSI5IiB5PSI0IiB3aWR0aD0iNSIgaGVpZ2h0PSI4IiByeD0iMSIgZmlsbD0iIzJlY2M3MSIgb3BhY2l0eT0iLjQiLz48cmVjdCB4PSI0IiB5PSI2IiB3aWR0aD0iMSIgaGVpZ2h0PSI0IiByeD0iLjUiIGZpbGw9IiNmZmYiIG9wYWNpdHk9Ii42Ii8+PHJlY3QgeD0iMTEiIHk9IjYiIHdpZHRoPSIxIiBoZWlnaHQ9IjQiIHJ4PSIuNSIgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iLjYiLz48L3N2Zz4=",map:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNOCAyQzUuOCAyIDQgMy44IDQgNmMwIDMgNCA4IDQgOHM0LTUgNC04YzAtMi4yLTEuOC00LTQtNHoiIGZpbGw9IiNlNzRjM2MiLz48Y2lyY2xlIGN4PSI4IiBjeT0iNiIgcj0iMS41IiBmaWxsPSIjZmZmIi8+PC9zdmc+",crown:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNMiAxMmgxMlY2bC0zIDMtMy01LTMgNS0zLTN2NnoiIGZpbGw9IiNmMWM0MGYiLz48cmVjdCB4PSIyIiB5PSIxMiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjIiIHJ4PSIxIiBmaWxsPSIjZjM5YzEyIi8+PC9zdmc+",target:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48Y2lyY2xlIGN4PSI4IiBjeT0iOCIgcj0iNiIgc3Ryb2tlPSIjMzQ5OGRiIiBzdHJva2Utd2lkdGg9IjEuNSIgZmlsbD0ibm9uZSIvPjxjaXJjbGUgY3g9IjgiIGN5PSI4IiByPSIzIiBzdHJva2U9IiMzNDk4ZGIiIHN0cm9rZS13aWR0aD0iMS41IiBmaWxsPSJub25lIi8+PGNpcmNsZSBjeD0iOCIgY3k9IjgiIHI9IjEiIGZpbGw9IiMzNDk4ZGIiLz48L3N2Zz4=",up:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNOCAzbDUgOUgzeiIgZmlsbD0iIzJlY2M3MSIvPjwvc3ZnPg==",down:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNOCAxM2w1LTlIM3oiIGZpbGw9IiNlNzRjM2MiLz48L3N2Zz4=",swords:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNMyAxM2w0LTRNMTMgM0w5IDdNMyAzbDEwIDEwTTUgM0gzdjJNMTEgMTNoMnYtMiIgc3Ryb2tlPSIjZjFjNDBmIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBmaWxsPSJub25lIi8+PC9zdmc+",scope:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48Y2lyY2xlIGN4PSI3IiBjeT0iNyIgcj0iNSIgc3Ryb2tlPSIjMmVjYzcxIiBzdHJva2Utd2lkdGg9IjEuNSIgZmlsbD0ibm9uZSIvPjxsaW5lIHgxPSIxMSIgeTE9IjExIiB4Mj0iMTQiIHkyPSIxNCIgc3Ryb2tlPSIjMmVjYzcxIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjwvc3ZnPg=="};
function sIco(k){return '<img src="'+SEC_ICO[k]+'" width="14" height="14" style="vertical-align:middle;margin-right:4px">';}
var MODES=["Gem Grab","Brawl Ball","Heist","Bounty","Hot Zone","Knockout"];
var MAPS=["Double Swoosh","Hard Rock Mine","Backyard Bowl","Safe Zone","Kaboom Canyon","Ring of Fire","Goldarm Gulch","Out in the Open","Super Beach","Sneaky Fields"];
var MC={"Gem Grab":"#9b59b6","Brawl Ball":"#3498db","Heist":"#e67e22","Bounty":"#f1c40f","Hot Zone":"#e74c3c","Knockout":"#1abc9c","Siege":"#8e44ad","Duels":"#d35400","Wipeout":"#c0392b","Showdown":"#27ae60","Solo Showdown":"#27ae60","Duo Showdown":"#16a085","Payload":"#2980b9","Basket Brawl":"#e67e22","Trophy Thieves":"#f39c12","Hunters":"#95a5a6","Bot Drop":"#7f8c8d"};
var RANKED_MAPS={"Gem Grab":[{name:"Hard Rock Mine",id:15000007},{name:"Double Swoosh",id:15000115},{name:"Deathcap Trap",id:15000009},{name:"Undermine",id:15000008}],"Brawl Ball":[{name:"Super Beach",id:15000051},{name:"Sneaky Fields",id:15000050},{name:"Pinball Dreams",id:15000118},{name:"Pinhole Punt",id:15000026},{name:"Triple Dribble",id:15000025},{name:"Sunny Soccer",id:15000049}],"Hot Zone":[{name:"Dueling Beetles",id:15000306},{name:"Ring of Fire",id:15000300},{name:"Open Business",id:15000292},{name:"Open Zone",id:15000527}],"Heist":[{name:"Safe Zone",id:15000019},{name:"Bridge Too Far",id:15000072},{name:"Hot Potato",id:15000053},{name:"Kaboom Canyon",id:15000018},{name:"Pit Stop",id:15000137}],"Bounty":[{name:"Shooting Star",id:15000005},{name:"Layer Cake",id:15000082},{name:"Hideout",id:15000022},{name:"Dry Season",id:15000083}],"Knockout":[{name:"New Horizons",id:15000703},{name:"Belle's Rock",id:15000368},{name:"Goldarm Gulch",id:15000367},{name:"Out in the Open",id:15000548}]};
function mapImg(id,sz){sz=sz||60;return '<img src="https://cdn.brawlify.com/maps/regular/'+id+'.png" width="'+sz+'" height="'+(sz*1.3)+'" style="border-radius:6px;object-fit:cover;background:var(--bg3)" crossorigin="anonymous" loading="lazy" onerror="this.style.display=\'none\'">';}
function getMapId(name){for(var mk in RANKED_MAPS){for(var i=0;i<RANKED_MAPS[mk].length;i++){if(RANKED_MAPS[mk][i].name===name)return RANKED_MAPS[mk][i].id;}}return 0;}
var MODE_ICO={"Knockout":"data:image/png;base64,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","Gem Grab":"data:image/png;base64,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","Brawl Ball":"data:image/png;base64,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","Hot Zone":"data:image/png;base64,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","Heist":"data:image/png;base64,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","Bounty":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAABCGlDQ1BJQ0MgUHJvZmlsZQAAeJxjYGA8wQAELAYMDLl5JUVB7k4KEZFRCuwPGBiBEAwSk4sLGHADoKpv1yBqL+viUYcLcKakFicD6Q9ArFIEtBxopAiQLZIOYWuA2EkQtg2IXV5SUAJkB4DYRSFBzkB2CpCtkY7ETkJiJxcUgdT3ANk2uTmlyQh3M/Ck5oUGA2kOIJZhKGYIYnBncAL5H6IkfxEDg8VXBgbmCQixpJkMDNtbGRgkbiHEVBYwMPC3MDBsO48QQ4RJQWJRIliIBYiZ0tIYGD4tZ2DgjWRgEL7AwMAVDQsIHG5TALvNnSEfCNMZchhSgSKeDHkMyQx6QJYRgwGDIYMZAKbWPz9HbOBQAAAD2UlEQVR42rVVbUyVZRi+nue87zkv35gxVopiDIrjcq5VTAwjXcJMCkQopaTQTlqKCK7laHsPE120ATPn4lBN7Qt3aoiGaESJBZFAIR8yctkXIE0FzjjncL7e9737ATXW5uTDrj/Pnt17nl33dV+7bmD64DZb7byRodqnhgfORciyzKcW/3u/IyAiNnkGi6KAxoZDKZnpq8jybv5eAPjmbHlSWWlBMREFA4DJZBJlWRasVqvun7dzgizLXK8XcahsV3WxeetJIlqYmhLvysled4KI7svYsNqTtCbGnrf72U4iirzD3U9ISkSR65LjCABteT65w2n/ahfRhW25O9MHuBC4nchsOVK6kpKSEv4oPrinpLy08OX29s/WEpHfVBVvBeHWJTMBRQCavWlpie9FR0ckQHMvr6v7dmNtbduS5pbeZk1xVDiHhspfzV+mRYRfWdR3tfX1G2MCjpSfx/3Grys4ZzsyMzM5AHXOinR3HC186cUnhw3S/DIAjwgCQ7vFJI4P5b+hOrcSOXM85DL5yJniqtwXoWZtyazknN2mSeC2zrVYTKLRaNR/VNVkF2hUdLvyONFJn6JwPPxKpU/P0M+5CO+Im4/3dAvouiRcG9bzB2KjOzWNIMsy5kSgoWFU6+3t9ZaUFPTftAlBg10du+H5ssN3Y8d37sG9ab6QmGGM20k30Mn9xgYBL2d/2QPw6IrYXwGwxETMnoAsy9xqtWrHj+4zr34iq6rmdKt27ES/AtVDguh4zBA6Vs37zh5znWkFczi4ZhCBIE5h/k60fN+zigHU2NiIWZoQmDChGX0///n0+cYOAwDV41MFEkR4bjpUYbiH6W3Xw919/vD+EgDlHi8kI+PpCR68Vde2SSPazxgbJwJjDDRjAmazDMYYEV3N/vGnK0319W1BK+PCiTlHGfu9SwffOFRBTyyQMRplCByQCNdVCoZLU2yDi8+csyQDqDabZR1QpMx4BIwVabL8uMBYVPdzGxI+CAmdx3TOEdXd0wkD90IIMQBcY4pOgyTp0HLNwQqbvLrC5gVq1IMP1axZEd05mQPaLEcAAImQcYFLAX6/6fVMWb+tTQkPM2DB3RLPWhvIX3tBQsB8HV28NEaFg6HKM9mpbx/I2VwlSUt7S0o//TfX5hLHAgCc+vxAwaKIcOJcIFHyp8lP1dzNYUrfwXt96XExVF1/ePuU2OPT2QfTUGBCvuXLYmvydqYvtTuc3iVRC+mHi5eTT51uinz/Cy/6RxcjPiP+w03r91RszDDqrdbLCmNMY4zhfwMR3fXJ8Tf3V7yT+7GP2lOJSALAZroF/wacO8uOkNLdygAAAABJRU5ErkJggg=="};
function mIco(m){var u=MODE_ICO[m];return u?'<img src="'+u+'" style="width:16px;height:16px;object-fit:contain;vertical-align:middle;margin-right:4px">':''}
var REGIONS=["NA","EMEA","SA","APAC"];
var TEAMS_DB={
  TribeGaming:{tag:"TRB",region:"NA",color:"#e67e22",country:"US",org:"Tribe Gaming",liquipedia:"https://liquipedia.net/brawlstars/Tribe_Gaming",logo:"https://liquipedia.net/commons/images/thumb/7/7a/Tribe_Gaming_allmode.png/52px-Tribe_Gaming_allmode.png"},
  FutEsports:{tag:"FUT",region:"EMEA",color:"#e74c3c",country:"TR",org:"FUT Esports",liquipedia:"https://liquipedia.net/brawlstars/FUT_Esports",logo:"https://liquipedia.net/commons/images/thumb/7/7c/FUT_Esports_allmode.png/52px-FUT_Esports_allmode.png"},
  ReplyTotem:{tag:"TTM",region:"EMEA",color:"#8e44ad",country:"IT",org:"Totem Esports (Reply Totem)",liquipedia:"https://liquipedia.net/brawlstars/Totem_Esports",logo:"https://liquipedia.net/commons/images/thumb/4/47/Totem_esports.png/52px-Totem_esports.png"},
  KdsEsports:{tag:"KDS",region:"EMEA",color:"#c0392b",country:"TR",org:"KDS Esports",liquipedia:"https://liquipedia.net/brawlstars/KDS_Esports",logo:"https://liquipedia.net/commons/images/thumb/d/d4/KDS_Esports_allmode.png/52px-KDS_Esports_allmode.png"},
  Reject:{tag:"RC",region:"APAC",color:"#3498db",country:"JP",org:"REJECT",liquipedia:"https://liquipedia.net/brawlstars/REJECT",logo:"https://liquipedia.net/commons/images/thumb/f/fe/REJECT_allmode.png/52px-REJECT_allmode.png"},
  Reject_f879:{tag:"RC2",region:"APAC",color:"#2980b9",country:"JP",org:"REJECT (Roster B)"}
};
var TEAM_NAMES=Object.keys(TEAMS_DB);
var TEAM_REGIONS={};for(var _tk in TEAMS_DB)TEAM_REGIONS[_tk]=TEAMS_DB[_tk].region;
function teamLogo(name,sz){sz=sz||28;var db=TEAMS_DB[name];if(!db||!db.logo)return '';return '<img src="'+db.logo+'" width="'+sz+'" height="'+sz+'" style="border-radius:4px;object-fit:contain;background:#111" onerror="this.style.display=\'none\'" alt="'+name+'">';}
function teamInfo(name){return TEAMS_DB[name]||null;}
// BS icons loaded from BSI object above
// BS-styled icons with thick outlines like in-game
var BSI={
  star:'<img src="data:image/png;base64,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">',
  trophy:'<img src="data:image/png;base64,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">',
  starpower:'<img src="data:image/png;base64,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">',
  podium:'<img src="data:image/png;base64,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">',
  skull:'<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABCGlDQ1BJQ0MgUHJvZmlsZQAAeJxjYGA8wQAELAYMDLl5JUVB7k4KEZFRCuwPGBiBEAwSk4sLGHADoKpv1yBqL+viUYcLcKakFicD6Q9ArFIEtBxopAiQLZIOYWuA2EkQtg2IXV5SUAJkB4DYRSFBzkB2CpCtkY7ETkJiJxcUgdT3ANk2uTmlyQh3M/Ck5oUGA2kOIJZhKGYIYnBncAL5H6IkfxEDg8VXBgbmCQixpJkMDNtbGRgkbiHEVBYwMPC3MDBsO48QQ4RJQWJRIliIBYiZ0tIYGD4tZ2DgjWRgEL7AwMAVDQsIHG5TALvNnSEfCNMZchhSgSKeDHkMyQx6QJYRgwGDIYMZAKbWPz9HbOBQAAAOO0lEQVR42q2Ye4xd1XWHv7X2Oeee+xjPjO0ZP8YGjIKN7cQxwdjhYQRETgktgbyqvCBRVFVVIqpISVQloSmpmofStKmiJlJTVSnPpNAoDxK3ISFAkIN5eDDYYGxj87CxPX4xd2bu65yz9+of5w6YJASq9kr3n3vOPXudvfb6rW/9BDD+4EcABTyCEkVgFii89P86e91QBEQIZkA45To4NRQlGHiTU66/9uqvfRfgVPCB/u3K0pGYc1dGrF2uLB8TRgczqlUBMTodY2Kywv6DnvGnA9t2FTx/tAAEEVA1vOf/IUAp90ZQvAWiyHHlhVWuebtwwZrA6FBAXA88hEIwPIgg4hA1RAW843DTsWWH4/a7PD+635P7DFXAjGCvGcLvXi2TokQOcl/+dtXGOn/1YWX9qhzn20x3oBv6uyspohAsx8wjAVTARBECiYNqVTBxbN2V8rWb4Sf3dwAjigxf2KuG+Krhx5GSF8LokPK162p86O055G2aLSAZIGmM4hoL0MoAuEp5DkOXkLUpWhNI83ms6GCRYoHyXJoypwrECd+7K+Yz38yYaBY4F/A+vP4AnRO8V96yPOKmv6mw+vQOJ17MkbhBOnoWbug0iAcRDLMC82Am5ZEQEBF8NkN+bCdhch+qQkAQBEKgwJg75Ni1v861f1uwbU8H58B7e60AlTiCvBAuXpNyx5cdw/UZpqYC6dwxokXrkcog+BwfPGKGJI5KIhAZSFRWZxAIgi8C7ee3UxzficYRYoYRACEvhME6nGw3+NPPFvz68Q6Rg8LbK0J6OUCBWB25h7UrIn7+DxUGqy2mW57K6HKSsXMRU6zI8CLUahFEjukJz7H900weaNGaKiu1PhAzvLTG/DdUGVhYpfv0vXQmnkWdAynlxUQhV6rVwGS3zhWf7DG+N+urxe8JUEUQEeYOOH717SorxmZoTgfS4dNJl15EYWA+w6UxSRKz/8Fpxn/0DM9sbdI80KY3HQihfJxzEDdi5o7FnHHhQs7ZFDM28iBZkVPkoEr5shoo8piBesHeQw3e9vEux6YyYFZLQcAZeJwqPsB3rx/go5fPcHzSE1dqpGduwuIalnvSgZiZI57N/7ibx38yQedkMBeFMDivIgOjaLVe1n+nbTSPGq0TnizPacxX1mwMXPKhNtX5OXnbcBowDAQyDyODETf+V5WP/l2LyBlFULCi3EGn4INw5QU1fvyVghdbOVEIRAvWEC9cS97rUhmqcOjhFt//zKNM7OxapWZ21jp03aVV5p8pxHPMklQFhCKDmRM5B55yPLElY//jkHeVhW9o856/7LJwVZdOq8Cp9HdJyYMx2Eh412eFn27p4lyE9wUiqCGQRMY9/9zg3OUtZrplytNll2OVQdKaceCRLt/9i61MHSScvsLr2z46jzPWjx6lFp6wjl+eFMfH2u2uiaiIgIsUVzFCD558EO65rcexfTFzFvR4/+fbjK2aptsWVMvOZF6o1Yzx3TUuva5Dr/Blz4oiwSzwjg011q/KmO4YEQFLqqirEsfGi4dyvvepcVoHva3ZKPr+v19zdPXHNl2Tr/2nFY0Nv7msu3rLylZl9b83BhwB9QQhzwOdaU8vF9ZcbFz7xSrLNhRMTTh++I2UqaNVkrgvTxjqPNMdz/pVOX+0IcWs37/NAuC49nJByBAEAyKL8KJEUcR/f2UfR3a1w9kXRLz7hrUvjP7x9RfJyDdvGR4+Z/KRR3w8MiLTIZr7tV6eipCrqUdEUBVUAjNNR2Nuxgc+02DZeXD46ZS7b0qJI9cPMPSxQkAyrr1cS+E3QQsPS+bFXLDG0+5Y2SMBn7dJa4G990+x/c7DLFiidvWnRiVZvuETIpfstZ3vS8yQc9P3CYCJXFZNDBPCLN2UIhFwkZF1YqJ6xtUfrzP/jB477q2w99Eaac0IoVxURWh3jPPX5CydH+HLJxnrVjtGhgNZ0d8/cZjPsNZxHvrBIbJ2Ht52TcVVRusvpN/5wp07b39fwpb9xr04eeMdWbu9Y2mSHfxct9M2xfUR42XxB486T7djDC/NueQ9A3Rb8OgvFcT10QtUjKyA0WFj3aryJSMQ1i4X1OWYlW9tFogSOLJjB0/fV+e0s1I5e4OzvJPPPfaRW84aOfOO3f2myOSuL64rtn369rS7e3EviwOuUMOX6XqF3AqJGN1WYOVGYexOx/7xlMkjbQbmCUU+q8qKizLWLq/yw19DBMryxQIBhPJtzCCqCMe2dWkejjn32kTiOc6sc7gaP/OdXx667/03xT6aUpu+qHjuP69ohJPaKtTUFSr9nmyABUP62TYD1YAVSnUwsGoD3H0zHH02Ye7CnDwzRPokVQgrFsWAEIExOpQTihI26XOkKpx8IQYNLFkRY/TE5wkVeW7JojlHP0cB9HIyK2h1+mQFlEUpBBeo1SJ8Jqh4xEGn6xAB8xGLzxZMAicOCmh4CfKQgPeOkaEeAJGIUK0JwTwi+nJKTJhuBuI4ZnDYCEUC6jEXhQd/kIXxezN8EFl1XkXXX2ES8JiVCqAKFVO2/DBnz8MFTh1vvtR408VVulkGvsfg3Jg4gZnJfsX2IQJRAp5qLS6Z9JUVNxtf2YIsKKLgHITgSavKQ5uD/vTbPU0SBQ08O95m6mTE5R+r0O3mGBCn8It/M+67w5PWBYKxZ7xHNlPh3CuhKATVgGjon3tOWd9OKS5Qs3KGUBFe4lorq7nWgDwLTLcgToz2lPLQz3pUqxFpTUgqjoGhmO135xw/4JFIcM5x7EDEtru7zBkyKhUhrUE1rbB1c4tO0+FipTUj+J5QGxCEl2HVMFQc7a71BzE8E5MVNLKXghcxLMDw4nK4mdgHceyYnirozkRoFPAhYEFADZ8lTB4XKhUhqgVePFHgMweqWCiHLRdBryXMNJW44ji2v8B7YXhheCUym+CcZ2KyLFgF2H/Ql3o0izgCeQEjZ+QMDHme+k1Opx0YGo4ZGMoosnKnnDNCAVGlw4JlMLFfeeFJZex0Ja6UFasu4BzkmVIbEubMM7KZwJNbAtV5wsgbIvK8XNNmy1+FfQdPSfT43oCFssJmIywymD+Ws2yVY//jBTvvDQwtcJx/VQ1vRrtpdFsFnVbO+VfVmLcwYfO/tvnptzoMj8Scf3VCe6ZHdwbaU0Kgy4VXpQwvhB33wb7Hc5adN8Sic1aSdcsxoQRZMB+zfY+flRl45MmCI5MxcxLIw8spjiPjTZfNsGfbAL+8NWPkNMd5V8ZUh40d9wdC4Vj5FmHtJsf2ezqcPABmnkfuybnsgzFDoxF7Hs5wEbxxY5XVGx17t+f86taCWAJr3zVGMm+Q1nMOzIMoqYPDTeWhpzxgiFPMB+GOLzV498YZJmfoc1rZR1Vibv7rYZ5/3DG0GN75iZhVFyZkHcFCj4DS60CvHZAQ9YvREzcCaapATOx6RGnCE1sK7vx2zsnnA2ecX+XPbrkIl/eYeXYzZNN4EwYHhB//usZ7Pt9FtcBFqjcEE0IW8d5NgW63pBDo72IaGF3qeOKBiHw65okHMqZPeuYuKYU97wkqRpIqceqJK2XFmym+B8HnTJ+IuOcW464bc4opw9WND359HUOnVfDdHn5yH2YZwZS0EvOFfxF2PZ/hHKgPJcH8bKvngSdTBqtAKAcbUeh1jKVvnOGKP2+Th4zIKtz3fWPftkC1Wvo0wYwiDxQZFFmgyAULhg9GperYOy7c9x9tYksoipyrbngzS99ap9vOCTaD9x3wMYMpPPREws+25ohC4RUNJoga3aLHV28UiBOKU4RbVWhPw9pNHa66rkMhXSIcnaajUq9Qa8TU6gm1gfiUr6PWiKgNxKS1Cr1pjzPImOHqr76FdR9YTGeyg4sT/PQRKAoEj1VSvnyz0csDTmW2X5STiyqEoNx4fZ1rrmhx4iREsaFWimcIUG8ozzzW4OffSTj8nLFyXZX6HIdpKCX1t+gF87SnCnY/mDN/ZZ13X38OZ1w0SLc5hWoVCy16+39Br9tiZFi5afMAH/lSE9Vyvd8aO0svZXQg4VffSjhrrEWrJUjsZwmAEKBSU/JWzGMPr2Drjzoc2TVJ6JWFAa7P40rAiCrGohVz2PDhMc577xLSekS71cWpQ1XoHthCdvI55jSUPYdqXPbxvD922qwkn+osyCmWR8LmbyQMpk1a3YgoKl4KUoJi4kkXn0Y09xIO7mxy6LEXOf5sm9YUCEZ1EOYtq7NkzSCLVg2S1JSs1cUXhsYJSqB3aJzusd3Ua8p0p8E7Ppkz/nQHVSWE8OreTBkkXPymGrd/RRmut2h2jIpqyXhiaICiCMQLVtA4cwPiEvB5H0gCuPLRvsgp2gHvQaMIpxH0TtCe2EH35HPMbwjHWnN47/U9tmzv9te212EeqeBD3zz6QoXVyzqcaHqcKer8S3+wYGh9MdHoGlw6hIgS0H56SgARdSA5IZuhaB6gd+wpJO8wdzhi57Mp197geXRvh8hFFN7/Tjivar9FTil8YHQo4evXpXxgU4b5nKlOifMq5TcEj2iMNhYT1eYhlSF8XEHxUGT4bBrfOk6YmiAUXRoNRxSl3HZXzKe/2eFos/dS1n5fKH/A3hRKx8EAxzsvTvjshyLWryxAerQ7Rp6D4UpcCoEgJa0KVp7ZUI6TqYNqXQkuZtvOmC/favzk/nbp4/yWWfS/9qhVQFUpvBE7x59clHLNJuWtby5YMBTQKIcCfChJWKzkOXW+RGsfcbjpeOCxiNt+7vnxlozCe5wawV6u1v+jie765pLvo7njtNGIc1Yqa5crZy+KGR3KSKulxHR7xpEXI/YdNB7d63l4t+fghC+lSCByQlGE1+Pdv36Xn/7kr64E21c6trOPcadg+yuNSHX9CTmUjoHhX9ea/wM3Xxiaxp87CgAAAABJRU5ErkJggg==">',
  replay:'<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAKCAYAAADGmhxQAAABCGlDQ1BJQ0MgUHJvZmlsZQAAeJxjYGA8wQAELAYMDLl5JUVB7k4KEZFRCuwPGBiBEAwSk4sLGHADoKpv1yBqL+viUYcLcKakFicD6Q9ArFIEtBxopAiQLZIOYWuA2EkQtg2IXV5SUAJkB4DYRSFBzkB2CpCtkY7ETkJiJxcUgdT3ANk2uTmlyQh3M/Ck5oUGA2kOIJZhKGYIYnBncAL5H6IkfxEDg8VXBgbmCQixpJkMDNtbGRgkbiHEVBYwMPC3MDBsO48QQ4RJQWJRIliIBYiZ0tIYGD4tZ2DgjWRgEL7AwMAVDQsIHG5TALvNnSEfCNMZchhSgSKeDHkMyQx6QJYRgwGDIYMZAKbWPz9HbOBQAAAEdklEQVR42n1Ua2xUVRD+zjn37m53t9vtllLqltZSLILlIaQlWARCDSIxVTA0TVSqMQZIQAghBAFjQiCKwaQhKIkoYApCFH6Q8BCxLNAYSVNALdiXbSEUCn1tu+97994z/thlKQkwyeRk8mXmO3POfAOLxRJ0ZeYcLy7Miuza/KqsrpweT3c64wBMACQ4CIDxMH6SMwZijNHT8Ce4CSD+KOZmksMAIAFVy8rJPq+oljBzZbjag4Fo8bfbSy+uqrHPB7fCd9HExl03cbN9EJoWwTPMZAycCAwAGAMYYymQCEREEoAYncQYA+ccH1VNw+tzs+BxcRw924f8XDtmv+xEW5fef37w8+ILB9+6rFjTrDH7hLUFRXkXiyJ+DZeuhPcHZWbLN9vnVI91x8p8V4L44sDtI/0Dw+nBYX9lkpAnuQQRwIUNQhGIaxGTiJDEWdLF4w0x4c7yHLfZMts21Xi2FE032L1WNL9RMeUwZDj/tRmBd4vHxbOP1u6dA6Hoimpz1D1fEFAmF1jyGv/SLy9ZGT+V4b0bNCNDE/p/n+heNp8Vdytbtu7b/dmniR+BBMCFIsjmcJ8vGGeZ8dNXM8dmuBg6buviy+/+QyBsQNcJPQ+Cg3GIpvCIf5E0JQNARAQOBHt77mxr7R6z0uNWM1fsdnxdfzrgAy7tr902rW7NcuvaihLpudpgO8bv3xtY8lJWW3XOGKCpRd5S1M71PNRxIeTXRf8wN6+1R4e+P+wr1EIjHxCBwJgAQEIIFvYufGfF0kk7p08KISfdr7kdxi8bVpcfPLl3Zt/fv5WidlvpObKuec9mtbLErCZydV173zv7kxf8EVwnQ5HdHfcLXK5LTUJoL9ZfjYWJERyqvzIWDC7mUg8tGLjVskPNUamshCqfK8z+J8Cz91QtzbNneszJunSeG7ndLg0jrgIgEDEAkqREtta1LBrXdVMKHDhFJ8qW11e/WVPftHpH+wl9ZFCm8YAKnHnbMOIAICmRS7qms9AdnzMmPafcHqF+vFSZF4Crzpmbf6RqIatWxlso3He3CjJUoQCgK00P2J6NCntlhtO9vyZtHayu4Lxye7rNxbHvWE+JFur6GWacJ1X3aNCtGa12q1YiNYY/r2utToe7ERSb1XDNtnO4T0qLhUsgrSUpnIfqYZqmc3Pgxq+1P3qbl5d7sbnGWTHXmzt3eChuzVV0HNraiZNnewEQKQBY74iOdXXdQB2oyG3F1PH29AafTUqbys/W90wlUz6snpKoYRgY6L62YSQyq011SJSXisVHzrj+gEhv/HBR5kSPV1UC16U71N+8XkgDo5pjAGDosbE3b3RWrNoURL6dy3/vRq3tvRo6hjQiUKqZ5GwAnDOYkka9UcrkKEWmjDNAEsOUiR40/jAZFgGcboj6oxEZXlCWlpdboGLF5i7UnemB4EjUftwIDARKbYTU9QVnIEmQlCClUVhqlzGW3KgmPWsPSgB8fmEGsp1c2u2cCw6EwlJGdeK+ziCF4yYxgD+tiuBJLgKIKHGOwv8HR2wjBIwLoHQAAAAASUVORK5CYII=">',
  meg:'<img src="data:image/png;base64,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">',
  nani:'<img src="data:image/png;base64,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">',
  pin:'<img src="data:image/png;base64,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">',
  gem:'<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAoCAYAAAB5ADPdAAABCGlDQ1BJQ0MgUHJvZmlsZQAAeJxjYGA8wQAELAYMDLl5JUVB7k4KEZFRCuwPGBiBEAwSk4sLGHADoKpv1yBqL+viUYcLcKakFicD6Q9ArFIEtBxopAiQLZIOYWuA2EkQtg2IXV5SUAJkB4DYRSFBzkB2CpCtkY7ETkJiJxcUgdT3ANk2uTmlyQh3M/Ck5oUGA2kOIJZhKGYIYnBncAL5H6IkfxEDg8VXBgbmCQixpJkMDNtbGRgkbiHEVBYwMPC3MDBsO48QQ4RJQWJRIliIBYiZ0tIYGD4tZ2DgjWRgEL7AwMAVDQsIHG5TALvNnSEfCNMZchhSgSKeDHkMyQx6QJYRgwGDIYMZAKbWPz9HbOBQAAALTElEQVR42q2YW4xd1XnHf9+31r6cM8fHc/NtwMZ4uJYWsJ1UokYpJCqprFauKqGS8FAUpVJf2qYPfalQIJUqpEhpEhpVilIpL23EQ2gVVCSSloZU5arSUIcYXMDYk/EMY3tmPHPOzNlnn73W14d9ZphgB2w1a2vrXPbea/3W+m7/tQHsSk8RGTjn7OjRo38+Njb2mIjY1Tx/pafn8i0Mb9h63czMj42Nnb9+6vqnFw4sLHU6ndsWFxfvWFpa2msGYMIvqQUgiEgQkUpVKxExVd1KXwFx//79T5tZPiSU0dFRPnH3J77hnIvDe345q5VlmTUajc0/kiSxqampp6empv7Ge98H4hA8joyMnNq/f/93Pnv//YcBdu3c9aMkTQyonGTmxJtsdu4N9OfNjxib54dA3XfffQ8ePXr092+++eb/mZycfHZ6evprZqbOOSYmJl7cslKbD+3Zs+eFY8eOfUpETVRjM2nGjNxSUmvSslwbppoYoluArgLqkUcemQJoNBokSbJhUjl8+PCRZrO5urFKw5lGkMr71LaPjlvTN8I237ImmR3cddDuHL/XrvHXWZOGNUmtIdvMaW4iYgj1eQXmc6+//vqPH3zwwX965ZVXOjFGB2RAKIric91u974hlNuABdQiJn1ETCWxjL/+48f4yp89js7exb7tRxhtXo8N1uiXiwRbJ2cEJ8lw1PiRTu6Ar5dl+cR777139v7779dGo8H8/Hy466677jo7O/upGGMEdAPJkzKebJNB6LF3/Hq+/Vff5jO/8wBpTDj+2lmsO8b0xEFu2vmbXDt6iFQyeuUFirCKE0eiCSpCsFhPUTbmugVKVR8dHx//h3Pnzs2cOHHC5ufnA0Ce5+e63e6xQVWNiggg0pCUZpqzMljn3tt/mye+/B0O33KQYrHCN5R3/vc88/OBqH00OnZnN3Hz5L0c2Hk3E8k0Vq2zXp4jGKTkqPpNi9pWqPHx8cP79u37xszMTGlm2XPPPZc89NBD/sknn1zYPz19ZmVl5QELhBHXVC8JvargT499gW89/C12NMfpdwLqHD4Tfna6w+yZgjR1BJTK1gmhR9OPsX/sNm7a8Wmu2X4HqShr5UWq0CXRFBFPsDBcMcO32+03n3/++e6hQ4eO3HDDDf84c2bGHT9+vLjnnnv+9o033jhKMEZ9SwdVSSNt8/gX/o4/PPYgoWP0LaKJI1b1PCd2NAlxESSpk4EkGEIMRq8a4MRxU/sIN44eYbGY4Z3lZ3l17ikWi1lMUvpW1hZN07Sampp6cX5+/tZ+vz+xuYTOoVFpJU16ZY9br/lVvvmX3+Tjd3yM/lIAL6gIEgTTSJLDT186zw+emmc9RmKMOJdgajiriHiMiBEwHJkoTltcsDN897W/YK73FoX1iIALIXzp4sWL+2KMTVGJtduJeXxoaW4rVVd+62PHiicfeyK5cd+N9FYrnPeoCRpAMsOicfbldXi7wS07p9jVyDGNrA36lFVFJMGjiAgmhggM4gAX2hyYPMRyMcfJpWdRdQQz/LDQRjNTQDHIJJWGa2gVhEc++yV7+HMPiwYougHv/LA2Gdo0BssVCy+U2HyDZuIxM/Zum2DvtglW+gWnVpY4vbrMYrFOkEBGig5SWs0pRrJJXDAmmzficVQoMMADYmZ1HjIQEXKXU1aD+NU/+VrxR5//fLOas7wfqtocGCCkqbBypuD8S5FkbQSfRwZmdYaMETVoJzkHd01x685dnOus8vbyArPdknZ7Lw2/nUEMDETYPrKPhG1ESqDPJSrBS4pUxs7m9dJa/njyk39d4MAt2xlp5VhplBbxIiwc79F9zZNqjqRCMEWQYcYRTIQKkMrwOK7bNsZ17TFeOn+RC702wUBUiBHG02tJfUpZlaBcCiUokT6pH5WTbxbJm6+fZnJXwi2/NsZthybYtW2Esy936Z3OaPgME8OMTZyNXjZ/SZ2J+pWROmEizznXDTjvEYRoMJKNM5LspFutIMilUPUIymqxhLk+jXSSpcWSH/3bPC+8OMtv7NvPjdkuRjQlXKGEqlNvDTeCIrqZkogRGr5NO9/HQu8EYm5YPra0aIaThLK6QLc8h2D4JNAa2Ubst1i+EMh8ykDiz2Xhj2ob1bbhBZFILQoFI5KoMtbYA0RUPgglEMUwDIsFq4PzOFLMAjFEVI2u9YkBFLkqIIhEjNQbqWMYLnWBUYGJ5jVEdHh84GkjEAX69LlYnMfUY+ZBAiLQK0tKi5cU0SuxoRl4VbLh981LEcZb05tAl5gvIyUhx4DV3lnM9TAiEgURpVcN6Ieq9ourY8KARIWmky1QAhHG82lS0lobbZ1xLjkNycEERbnYnyPEwTAT1yYbhMD6oMRfJZAYVAIahFzjUDeCCFQGo9luctfGAN1AyiSlITliYFQoQqe/SBUDisMwnAlVNNarCneJ4PhwqCiKixEvSpYLshGF1FCtZIJmNkk0Q8HQIZSabvqW4uj2FyniMk5cPbzU5bRbFgTZ9OArcvRoRqZKxwXeuTDDam+GolrDRDEgy7bRzvagVuHrNKO1CDUFCXVkiKM3uMhaucT2dA/GABCiQqffQ+pb6+CQD3d7M6PhhAuDgv+ceYcL6+vgoOws4V2b3DdpJ7tppZMooXYNs0iUuKVnQ1EGVrBWLKG5oBUoASXlvbUBZ9f7TGYJjrqcBIs4AxN5P6dHQ8RwqfL2yjKvnnmXFYskPsXMMDX68RwULVaqs8ytnsSpf99fgw2AZIsjKJX1WSnmQRJglRKhne4mz/bw2oLRztaZanp2NzyNRIkoIdYrEzFSEaIXjs/N8pOFswyc4n0KwVBqzZUnI/R0nWfeepQLxQlMWu9DVVYRNGz6lQzT3Wo5SyASo6fdmqaVjmIRBg4Wy5Tl/oBTnZIdubCn6Wk3PCmRBEcnVLx0+l1OdhbJ0qwOIqv3IWYVaTrGXO8kz7z5RWbX3kJcynpcxW84axgebhhpZobgmVs5gXjPjvxWPDmlDRD1JAYikcolFDHhTCcyuxYYTwt2txSzLsfnz7BQFjQ1xyIYAhZBIknW4qfn/oUfvPUVOvECTpushQ5RIg54dCNCVISMbBjqhtcGy8VpcAnTk79OKxnB4YgBLG74oCJiqAqmjvXKcb7nOHl+jtWwQqpNsIiIEa3CuwRV4T/O/D3fP/VVKhlgInTiKpG6UmxCbcRuogmysReTgErOqaV/58dzT3G+/BlZPs54Y4qWV2JUopUEEUwUtToZOqdEGVBVXUQcJka0SMO1WQ3LfO/kF3lt4UkyL6yb0Yvdy2b/zZ8t1yQzRzQ3zOIRI6OydfrWY0TbTI9/koPXPsCv7PgkO5JxYgU9qwu5CDhR1vqLrPZmNkfIsxHeXX2BZ974Mgv9MzifUVQ9SorLUHwgBeYupxVzIkKQWvKpRSCtlaIVDGJBRJlsHOD2Pb/LnVOfYV/7TnKB/gCCBYrY5WL3BKmkeN/i1fnv8uy7X6dHFxXPWugRakW2GVa/ECqRhDZtMCNKQC6t2YjU0reKBT3WGNFJbhg/wp17/4BbJ+9jRzJOWcFSd5Y1meeHpx7nv+f/GVXPgEAvrvFhauwSKIcyoi28Od5XPZdvihI0wWxAGTsYkT2Nm7h99+9xYMfdLHZP8l+z3+Pd1ZfJnaOIA9atf5lRPwJKgFxzGjQQkw8tuiZW53NRxNJ6gxR79CnwpJsbCdWcTuxQMXh/jlcDNQxyEklJJMHhcAhi9RAbWyzDiGKopYgZJgGk/qw3WkJEKCnph/4Wc9kVa69feFlFceZwojgUFRliKoYitvE+TKgksmY9gpW44fuUcBlH/v9ByZY7hu4lJjgELw7F48TV/ifGuhX0rar1rW3pgyuXOQD/B2ZZzgUTdTiWAAAAAElFTkSuQmCC">',
  medal:'<img src="data:image/png;base64,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">',
  ball:'<img src="data:image/png;base64,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">'
};
var MODS=[
  {id:"overview",label:"OVERVIEW",ico:BSI.star,desc:"Global stats"},
  {id:"meta",label:"META RANKINGS",ico:BSI.trophy,desc:"Most played brawlers"},
  {id:"brawlers",label:"BRAWLER STATS",ico:BSI.starpower,desc:"Win rate by brawler"},
  {id:"teams",label:"TEAM STATS",ico:BSI.podium,desc:"Teams by region"},
  {id:"h2h",label:"HEAD TO HEAD",ico:BSI.skull,desc:"Heatmap matchup"},
  {id:"tracker",label:"MATCH LOG",ico:BSI.replay,desc:"History"},
  {id:"draft",label:"DRAFT HELP",ico:BSI.meg,desc:"Counter & Draft sim"},
  {id:"maps",label:"MAP STATS",ico:BSI.pin,desc:"Detailed map stats"},
  {id:"import",label:"IMPORT DATA",ico:BSI.gem,desc:"CSV / JSON"}
];

var curPage=null, matchData=[], usingDemo=true, filters={mode:"",days:9999}, charts={};
var draftEnemy="", draftPick="", draftHistory=[];
var analyzeTeam1=[], analyzeTeam2=[];
var sheetLastSync="auto";

// ═══ GOOGLE SHEETS DYNAMIC FETCH (JSONP - no CORS) ═══
var SHEET_DATA=[];
var GS_SHEET_ID="1j_NDvTn0NGgoSfDpRsB3A0I9eOZmzJrb0ERODbrTN78";
var sheetFetchStatus="pending";

function handleSheetData(resp){
  try{
    if(resp.status==="error"){throw new Error(resp.errors.map(function(e){return e.message;}).join(", "));}
    var table=resp.table;
    var headers=table.cols.map(function(c){return c.label.trim().toLowerCase().replace(/[^a-z0-9_]/g,"_");});
    var rawRows=[];
    for(var i=0;i<table.rows.length;i++){
      var r=table.rows[i];
      if(!r||!r.c)continue;
      var obj={};
      for(var j=0;j<headers.length;j++){
        var cell=r.c[j];
        if(!cell||cell.v==null||cell.v===""){obj[headers[j]]="";}
        else if(typeof cell.v==="object"&&cell.v.getFullYear){
          // Date object from gviz
          var d=cell.v;obj[headers[j]]=d.getFullYear()+"-"+String(d.getMonth()+1).padStart(2,"0")+"-"+String(d.getDate()).padStart(2,"0");
        }else if(typeof cell.v==="string"&&cell.v.indexOf("Date(")===0){
          // String format "Date(2025,0,16)" from gviz
          var dm=cell.v.match(/Date\((\d+),(\d+),(\d+)\)/);
          if(dm){obj[headers[j]]=dm[1]+"-"+String(+dm[2]+1).padStart(2,"0")+"-"+String(+dm[3]).padStart(2,"0");}
          else{obj[headers[j]]=cell.f||String(cell.v);}
        }else if(cell.f&&/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(cell.f)){
          // Formatted date "16/01/2025" or "1/16/2025"
          var dp=cell.f.split("/");
          // Detect DD/MM/YYYY vs MM/DD/YYYY: if first part > 12, it's DD/MM
          if(+dp[0]>12){obj[headers[j]]=dp[2]+"-"+dp[1].padStart(2,"0")+"-"+dp[0].padStart(2,"0");}
          else{obj[headers[j]]=dp[2]+"-"+dp[0].padStart(2,"0")+"-"+dp[1].padStart(2,"0");}
        }else{
          obj[headers[j]]=String(cell.v);
        }
      }
      rawRows.push(obj);
    }
    var rows=rawRows.map(transformRow).filter(function(r){return r.date&&r.result;});
    if(rows.length){
      matchData=rows;
      usingDemo=false;
      sheetFetchStatus="ok";
      sheetLastSync=new Date().toLocaleTimeString();
      document.getElementById("demoBanner").style.display="none";
      // Auto-detect best time filter
      autoSetFilter();
      if(curPage)go(curPage);else goHome();
    }else{
      sheetFetchStatus="empty";
    }
    updateSyncBadge();
  }catch(err){
    console.error("[Bashira] Sheet parse error:",err);
    sheetFetchStatus="error";
    updateSyncBadge();
  }
}

function fetchGoogleSheet(){
  try{
    sheetFetchStatus="loading";
    updateSyncBadge();
    var s=document.createElement("script");
    s.src="https://docs.google.com/spreadsheets/d/"+GS_SHEET_ID+"/gviz/tq?tqx=responseHandler:handleSheetData";
    s.onerror=function(){
      console.error("[Bashira] Script load failed");
      sheetFetchStatus="error";
      updateSyncBadge();
    };
    document.head.appendChild(s);
  }catch(err){
    console.error("[Bashira] Sheet fetch error:",err);
    sheetFetchStatus="error";
    updateSyncBadge();
  }
}

function updateSyncBadge(){
  var el=document.getElementById("syncBadge");
  if(!el)return;
  var colors={pending:"var(--t3)",loading:"var(--yellow)",ok:"var(--green)",error:"var(--red)",empty:"var(--t3)"};
  var labels={pending:"⏳",loading:"🔄 Loading...",ok:"✅ "+matchData.length+" games",error:"❌ Offline",empty:"⚠️ Empty"};
  el.style.color=colors[sheetFetchStatus]||"var(--t3)";
  el.textContent=labels[sheetFetchStatus]||"";
}

function autoSetFilter(){
  // Date filter is relative to most recent date in data
  // Default to ALL to show everything on first load
  filters.days=9999;
}

function normalizeMode(v){
  if(!v)return"";
  var s=String(v).trim();
  // Map common variations to standard names
  var map={
    "gemgrab":"Gem Grab","gem_grab":"Gem Grab","gem grab":"Gem Grab","gemGrab":"Gem Grab",
    "brawlball":"Brawl Ball","brawl_ball":"Brawl Ball","brawl ball":"Brawl Ball","brawlBall":"Brawl Ball",
    "heist":"Heist",
    "bounty":"Bounty",
    "hotzone":"Hot Zone","hot_zone":"Hot Zone","hot zone":"Hot Zone","hotZone":"Hot Zone",
    "knockout":"Knockout","knock_out":"Knockout",
    "siege":"Siege","loneStar":"Lone Star","takedown":"Takedown",
    "duels":"Duels","duel":"Duels",
    "wipeout":"Wipeout","wipe_out":"Wipeout",
    "payload":"Payload","basketbrawl":"Basket Brawl",
    "trophythieves":"Trophy Thieves","trophy_thieves":"Trophy Thieves",
    "hunters":"Hunters","botdrop":"Bot Drop","bot_drop":"Bot Drop",
    "showdown":"Showdown","soloshowdown":"Solo Showdown","duoshowdown":"Duo Showdown"
  };
  var lc=s.toLowerCase().replace(/[\s_-]+/g,"");
  if(map[lc])return map[lc];
  // Also try direct match with just lowercase
  for(var k in map){if(k===s.toLowerCase())return map[k];}
  // If already properly formatted (first letters caps), return as-is
  if(/^[A-Z]/.test(s))return s;
  // Title case it
  return s.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();});
}

function normalizeResult(v){
  if(!v)return"";
  var lc=String(v).toLowerCase().trim();
  if(lc==="victory"||lc==="win"||lc==="w"||lc==="1"||lc==="true")return"victory";
  if(lc==="defeat"||lc==="loss"||lc==="lose"||lc==="l"||lc==="0"||lc==="false"||lc==="loose")return"defeat";
  return lc;
}
function normalizeDate(v){
  if(!v)return"";
  var s=String(v).trim();
  // Already YYYY-MM-DD
  if(/^\d{4}-\d{2}-\d{2}/.test(s))return s.substring(0,10);
  // DD/MM/YYYY
  if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(s)){var p=s.split("/");return p[2]+"-"+p[1].padStart(2,"0")+"-"+p[0].padStart(2,"0");}
  // MM/DD/YYYY
  if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(s)){var p2=s.split("/");return p2[2]+"-"+p2[0].padStart(2,"0")+"-"+p2[1].padStart(2,"0");}
  // Try Date parse
  var d=new Date(s);
  if(!isNaN(d.getTime()))return d.getFullYear()+"-"+String(d.getMonth()+1).padStart(2,"0")+"-"+String(d.getDate()).padStart(2,"0");
  return s;
}
function transformRow(r){
  return {
    date:normalizeDate(r.date),
    mode:normalizeMode(r.mode),
    map:r.map||"",
    result:normalizeResult(r.result_team1),
    team1_name:r.team1_name||"",
    team2_name:r.team2_name||"",
    brawler1:r.team1_player1_brawler||"",
    brawler2:r.team1_player2_brawler||"",
    brawler3:r.team1_player3_brawler||"",
    enemy1:r.team2_player1_brawler||"",
    enemy2:r.team2_player2_brawler||"",
    enemy3:r.team2_player3_brawler||"",
    player1:r.team1_player1_name||"",
    player2:r.team1_player2_name||"",
    player3:r.team1_player3_name||"",
    eplayer1:r.team2_player1_name||"",
    eplayer2:r.team2_player2_name||"",
    eplayer3:r.team2_player3_name||"",
    set_score:r.set_score||"",
    set_id:r.set_id||"",
    set_game_number:r.set_game_number||r.set_game_number||"",
    tier1:r.average_tier_team1||"unknown",
    tier2:r.average_tier_team2||"unknown",
    region1:r.average_region_team1||"unknown",
    region2:r.average_region_team2||"unknown"
  };
}

function loadEmbeddedData(){
  if(SHEET_DATA.length){matchData=SHEET_DATA;usingDemo=false;}
  // Trigger dynamic fetch (will update in background)
  setTimeout(function(){fetchGoogleSheet();},500);
}

// ═══ HELPERS ═══
function hsh(s){var h=0;for(var i=0;i<s.length;i++)h=((h<<5)-h)+s.charCodeAt(i);return h;}
function bc(n){return BC[n]||("#"+((Math.abs(hsh(n))%0xBBBBBB+0x444444).toString(16)));}
function wrCol(w){return (+w)>=52?"wr-g":(+w)>=48?"wr-y":"wr-r";}
function wrHex(w){return (+w)>=55?"#2ecc71":(+w)>=50?"#f1c40f":"#e74c3c";}
function getTier(w){var v=+w;return v>=60?"S":v>=55?"A":v>=50?"B":v>=45?"C":v>=40?"D":"F";}
var TC={S:"#e74c3c",A:"#e67e22",B:"#f1c40f",C:"#2ecc71",D:"#95a5a6",F:"#636e72"};

function wrCellColor(wr){
  if(wr===null)return"background:#1a1a1a";
  var v=+wr;
  if(v===0)return"background:#2a1515";
  if(v>=60)return"background:#2ecc71";
  if(v>=55)return"background:#27ae60";
  if(v>=50)return"background:#1a5c2e";
  if(v<40)return"background:#c0392b";
  if(v<45)return"background:#a93226";
  return"background:#5c1a1a";
}

var CDN_SRCS=[
  "https://cdn.brawlify.com/brawlers/borderless/",
  "https://cdn.brawlify.com/brawlers/borders/",
  "https://raw.githubusercontent.com/Brawlify/CDN/master/brawlers/borderless/"
];
function bImgSrc(n){var id=BID[n];return id?CDN_SRCS[0]+id+".png":"";}
function bSort(a,b){return(BID[a]||99999)-(BID[b]||99999);}
function bImgSrc2(n){var id=BID[n];return id?CDN_SRCS[1]+id+".png":"";}
function bImgSrc3(n){var id=BID[n];return id?CDN_SRCS[2]+id+".png":"";}
function bIcon(name,size){
  var s=size||36;var r=s>30?8:6;var ini=name.slice(0,2).toUpperCase();var src=bImgSrc(name);var src2=bImgSrc2(name);var src3=bImgSrc3(name);var fs=s>40?Math.round(s/2.8):Math.round(s/2.5);var c=bc(name);
  if(src)return '<div class="bico" style="width:'+s+'px;height:'+s+'px;border-radius:'+r+'px;background:linear-gradient(135deg,'+c+','+c+'99);overflow:hidden;border:1.5px solid '+c+'"><img src="'+src+'" crossorigin="anonymous" loading="lazy" style="width:100%;height:100%;object-fit:cover" onerror="this.src=\''+src2+'\';this.onerror=function(){this.src=\''+src3+'\';this.onerror=function(){this.style.display=\'none\';this.parentNode.innerHTML=\'<span style=font-size:'+fs+'px;font-weight:800;text-shadow:0_1px_2px_rgba(0,0,0,.5)>'+ini+'</span>\';};};"></div>';
  return '<div class="bico" style="width:'+s+'px;height:'+s+'px;border-radius:'+r+'px;background:linear-gradient(135deg,'+c+','+c+'99);font-size:'+fs+'px;border:1.5px solid '+c+';text-shadow:0 1px 2px rgba(0,0,0,.5)">'+ini+'</div>';
}
function bIconSm(name){
  var ini=name.slice(0,2).toUpperCase();var src=bImgSrc(name);var src2=bImgSrc2(name);var c=bc(name);
  if(src)return '<div class="bico-sm" style="background:linear-gradient(135deg,'+c+','+c+'99);overflow:hidden;border:1px solid '+c+'"><img src="'+src+'" crossorigin="anonymous" loading="lazy" style="width:100%;height:100%;object-fit:cover" onerror="this.src=\''+src2+'\';this.onerror=function(){this.style.display=\'none\';this.parentNode.innerHTML=\''+ini+'\';};"></div>';
  return '<div class="bico-sm" style="background:linear-gradient(135deg,'+c+','+c+'99);border:1px solid '+c+'">'+ini+'</div>';
}
function resultBadge(r){return r==="victory"?'<span class="badge badge-w">WIN</span>':'<span class="badge badge-l">LOSS</span>';}

function killCharts(){for(var k in charts){try{charts[k].destroy();}catch(e){}}charts={};}
function mChart(id,type,data,opts){
  var ctx=document.getElementById(id);if(!ctx)return;
  var df={responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false},tooltip:{backgroundColor:"#1a1a1a",borderColor:"#333",borderWidth:1,padding:10,cornerRadius:8}},scales:{x:{ticks:{color:"#666",font:{family:"Outfit",size:10}},grid:{color:"rgba(42,42,42,0.25)"}},y:{ticks:{color:"#666",font:{family:"Outfit",size:10}},grid:{color:"rgba(42,42,42,0.25)"}}}};
  var merged={};for(var p in df)merged[p]=df[p];if(opts)for(var p2 in opts)merged[p2]=opts[p2];
  charts[id]=new Chart(ctx,{type:type,data:data,options:merged});
}

// ═══ DATA ═══
function genDemo(){
  var brawlers=Object.keys(BC),rows=[],i,p,e,d;
  for(i=0;i<600;i++){
    p=[];while(p.length<3){var b1=brawlers[~~(Math.random()*brawlers.length)];if(p.indexOf(b1)===-1)p.push(b1);}
    e=[];while(e.length<3){var b2=brawlers[~~(Math.random()*brawlers.length)];if(e.indexOf(b2)===-1&&p.indexOf(b2)===-1)e.push(b2);}
    d=new Date(2025,~~(Math.random()*3),~~(Math.random()*28)+1);
    rows.push({date:d.toISOString().split("T")[0],mode:MODES[~~(Math.random()*MODES.length)],map:MAPS[~~(Math.random()*MAPS.length)],brawler1:p[0],brawler2:p[1],brawler3:p[2],enemy1:e[0],enemy2:e[1],enemy3:e[2],result:Math.random()>.45?"victory":"loose"});
  }
  return rows;
}

function compute(data){
  if(!data.length)return{brawlers:[],comps:[],counters:{},synergies:{},modes:[],maps:[],timeline:[],total:0,wins:0};
  var bm={},cm={},ctr={},syn={},mm={},mpm={};
  var total=data.length, wins=0;
  data.forEach(function(r){
    var isW=r.result==="victory";
    if(isW)wins++;
    var my=[r.brawler1,r.brawler2,r.brawler3].filter(Boolean).sort();
    var en=[r.enemy1,r.enemy2,r.enemy3].filter(Boolean).sort();
    my.forEach(function(b){
      if(!bm[b])bm[b]={name:b,w:0,p:0,modes:{},maps:{}};
      bm[b].p++;if(isW)bm[b].w++;
      if(r.mode){if(!bm[b].modes[r.mode])bm[b].modes[r.mode]={w:0,n:0};bm[b].modes[r.mode].n++;if(isW)bm[b].modes[r.mode].w++;}
      if(r.map){if(!bm[b].maps[r.map])bm[b].maps[r.map]={w:0,n:0};bm[b].maps[r.map].n++;if(isW)bm[b].maps[r.map].w++;}
    });
    var ck=my.join("+");
    if(!cm[ck])cm[ck]={comp:my,w:0,p:0,modes:{}};cm[ck].p++;if(isW)cm[ck].w++;
    if(r.mode){if(!cm[ck].modes[r.mode])cm[ck].modes[r.mode]={w:0,n:0};cm[ck].modes[r.mode].n++;if(isW)cm[ck].modes[r.mode].w++;}
    my.forEach(function(a){en.forEach(function(e2){var k=a+"_vs_"+e2;if(!ctr[k])ctr[k]={brawler:a,enemy:e2,w:0,t:0};ctr[k].t++;if(isW)ctr[k].w++;});});
    for(var si=0;si<my.length;si++){for(var sj=si+1;sj<my.length;sj++){var sk=my[si]+"_with_"+my[sj];if(!syn[sk])syn[sk]={a:my[si],b:my[sj],w:0,t:0};syn[sk].t++;if(isW)syn[sk].w++;}}
    if(r.mode){if(!mm[r.mode])mm[r.mode]={name:r.mode,w:0,t:0};mm[r.mode].t++;if(isW)mm[r.mode].w++;}
    if(r.map){if(!mpm[r.map])mpm[r.map]={name:r.map,w:0,t:0};mpm[r.map].t++;if(isW)mpm[r.map].w++;}
  });
  var brawlers=[];for(var bk in bm){var bb=bm[bk];var bwr=bb.p?((bb.w/bb.p)*100).toFixed(2):"0";var bpr=((bb.p/total)*100).toFixed(2);var modes2=[];for(var mk in bb.modes)modes2.push([mk,bb.modes[mk]]);modes2.sort(function(a,c){return(c[1].w/c[1].n)-(a[1].w/a[1].n);});brawlers.push({name:bb.name,w:bb.w,p:bb.p,wr:bwr,pr:bpr,modes:bb.modes,maps:bb.maps,bestMode:modes2.length?modes2[0][0]:"-"});}
  brawlers.sort(function(a,b){return(+b.wr)-(+a.wr);});
  var comps=[];for(var ck2 in cm){var cc=cm[ck2];var cwr=cc.p?((cc.w/cc.p)*100).toFixed(2):"0";var modes3=[];for(var mk2 in cc.modes)modes3.push([mk2,cc.modes[mk2]]);modes3.sort(function(a,c){return(c[1].w/c[1].n)-(a[1].w/a[1].n);});comps.push({comp:cc.comp,w:cc.w,p:cc.p,wr:cwr,bestMode:modes3.length?modes3[0][0]:"-"});}
  comps.sort(function(a,b){return(+b.wr)-(+a.wr);});
  var modes=[];for(var mmk in mm){var m=mm[mmk];modes.push({name:m.name,w:m.w,t:m.t,wr:((m.w/m.t)*100).toFixed(1)});}
  var maps=[];for(var mpk in mpm){var mp=mpm[mpk];maps.push({name:mp.name,w:mp.w,t:mp.t,wr:((mp.w/mp.t)*100).toFixed(1)});}
  var dm={};data.forEach(function(r){if(!r.date)return;if(!dm[r.date])dm[r.date]={date:r.date,w:0,t:0};dm[r.date].t++;if(r.result==="victory")dm[r.date].w++;});
  var timeline=[];for(var dk in dm){var dd=dm[dk];timeline.push({date:dd.date,w:dd.w,t:dd.t,wr:((dd.w/dd.t)*100).toFixed(1)});}
  timeline.sort(function(a,b){return a.date.localeCompare(b.date);});
  return{brawlers:brawlers,comps:comps,counters:ctr,synergies:syn,modes:modes,maps:maps,timeline:timeline,total:total,wins:wins};
}

function getFD(){
  var d=matchData;
  if(filters.days&&filters.days<9999){
    // Find most recent date in data as reference (not today)
    var maxDate=null;
    for(var i=0;i<matchData.length;i++){
      if(!matchData[i].date)continue;
      var rd=new Date(matchData[i].date);
      if(!maxDate||rd>maxDate)maxDate=rd;
    }
    if(maxDate){
      var cut=new Date(maxDate.getTime()-filters.days*86400000);
      d=d.filter(function(r){if(!r.date)return true;var rd=new Date(r.date);return rd>=cut;});
    }
  }
  if(filters.mode)d=d.filter(function(r){return r.mode===filters.mode;});
  return d;
}
function getDateRange(d){var dates=(d||matchData).map(function(r){return r.date;}).filter(Boolean).sort();if(!dates.length)return{from:"",to:"",label:""};var f=dates[0],t=dates[dates.length-1];function fmt(ds){var p=ds.split("-");return p[2]+"/"+p[1]+"/"+p[0];}return{from:f,to:t,label:fmt(f)+" → "+fmt(t)};}
function setDays(n){filters.days=n;if(curPage)go(curPage);else goHome();}

// ═══ NAV ═══
function init(){loadEmbeddedData();if(!matchData.length){matchData=genDemo();usingDemo=true;}goHome();}

function goHome(){
  curPage=null;killCharts();
  document.querySelectorAll(".page").forEach(function(p){p.classList.remove("active");});
  document.getElementById("backBtn").classList.remove("show");
  document.getElementById("pageLabel").textContent="";
  document.getElementById("mainScroll").scrollTop=0;
  var homeData=getFD()||matchData;
  var s=compute(homeData);
  var wr=s.total?((s.wins/s.total)*100).toFixed(1):"0";
  var h='<div class="home fade">';
  h+='<h1><span style="color:var(--green)">'+sIco("swords")+' <span>Bashira</span></h1>';
  h+='<div class="home-sub">Brawl Stars Analytics Dashboard</div>';
  // Date filter on home
  h+='<div style="display:flex;gap:6px;justify-content:center;margin-bottom:24px">';
  var hdays=[{v:7,l:"7J"},{v:14,l:"14J"},{v:30,l:"30J"},{v:60,l:"60J"},{v:90,l:"90J"},{v:9999,l:"ALL"}];
  for(var hd=0;hd<hdays.length;hd++){
    var hdv=hdays[hd],hac=filters.days===hdv.v;
    h+='<div onclick="setDays('+hdv.v+')" style="cursor:pointer;padding:6px 14px;border-radius:8px;font-size:12px;font-weight:800;letter-spacing:.5px;transition:all .15s;'+(hac?'background:var(--green);color:#000':'background:var(--bg3);color:var(--t3);border:1px solid var(--border)')+'">'+hdv.l+'</div>';
  }
  h+='</div>';
  h+='<div class="home-grid">';
  for(var i=0;i<MODS.length;i++){
    var m=MODS[i];
    h+='<div class="hcard" onclick="go(\''+m.id+'\')">';
    h+='<div class="hcard-ico">'+m.ico+'</div>';
    h+='<div><div class="hcard-label">'+m.label+'</div>';
    h+='<div class="hcard-desc">'+m.desc+'</div></div></div>';
  }
  h+='</div>';
  var dr=getDateRange(homeData);
  var totalAll=matchData.length;
  h+='<div class="home-stats"><b>'+dr.label+'</b> · <b>'+s.total+'</b> games · Win Rate <b>'+wr+'%</b> · <span style="color:var(--t3);font-size:11px">📡 Auto-sync Google Sheets</span></div>';
  h+='</div>';
  document.getElementById("homeScreen").innerHTML=h;
  document.getElementById("homeScreen").style.display="";
  document.getElementById("demoBanner").style.display=usingDemo?"flex":"none";
}

function go(id){
  curPage=id;killCharts();
  document.getElementById("homeScreen").style.display="none";
  document.querySelectorAll(".page").forEach(function(p){p.classList.remove("active");});
  var pg=document.getElementById("pg-"+id);pg.classList.add("active");
  document.getElementById("backBtn").classList.add("show");
  var mod=null;for(var i=0;i<MODS.length;i++){if(MODS[i].id===id)mod=MODS[i];}
  document.getElementById("pageLabel").textContent=mod?mod.label:"";
  document.getElementById("mainScroll").scrollTop=0;
  document.getElementById("demoBanner").style.display=usingDemo?"flex":"none";
  var data=getFD()||[];var s=compute(data);
  var fn={overview:pgOverview,meta:pgMeta,brawlers:pgBrawlers,teams:pgTeams,h2h:pgH2H,tracker:pgTracker,draft:pgDraft,analyze:pgAnalyze,maps:pgMaps,"import":pgImport};
  if(fn[id])fn[id](pg,s,data);
}

function buildModePills(){
  // Build mode list from MODES + any extra modes in data
  var modeSet={};
  for(var i=0;i<MODES.length;i++)modeSet[MODES[i]]=1;
  for(var j=0;j<matchData.length;j++){if(matchData[j].mode)modeSet[matchData[j].mode]=1;}
  var modeList=[];for(var mk in modeSet)modeList.push(mk);
  // Sort: known modes first in MODES order, then extras alphabetically
  var modeOrder={};for(var mo=0;mo<MODES.length;mo++)modeOrder[MODES[mo]]=mo;
  modeList.sort(function(a,b){var oa=modeOrder[a]!=null?modeOrder[a]:100,ob=modeOrder[b]!=null?modeOrder[b]:100;return oa!==ob?oa-ob:a.localeCompare(b);});

  var h='<div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin-bottom:12px">';
  h+='<div class="pills" style="margin-bottom:0">';
  h+='<div class="pill '+(filters.mode?"":"white")+'" onclick="filters.mode=\'\';go(curPage)">ALL</div>';
  for(var i=0;i<modeList.length;i++){
    var m=modeList[i];
    h+='<div class="pill '+(filters.mode===m?"green":"")+'" onclick="filters.mode=\''+m+'\';go(curPage)">'+mIco(m)+m.toUpperCase()+'</div>';
  }
  h+='</div>';
  h+='<div style="margin-left:auto;display:flex;gap:4px">';
  var days=[{v:7,l:"7J"},{v:14,l:"14J"},{v:30,l:"30J"},{v:60,l:"60J"},{v:90,l:"90J"},{v:9999,l:"ALL"}];
  for(var d=0;d<days.length;d++){
    var dv=days[d],ac=filters.days===dv.v;
    h+='<div onclick="setDays('+dv.v+')" style="cursor:pointer;padding:5px 10px;border-radius:8px;font-size:11px;font-weight:800;letter-spacing:.5px;transition:all .15s;'+(ac?'background:var(--green);color:#000':'background:var(--bg3);color:var(--t3);border:1px solid var(--border)')+'">'+dv.l+'</div>';
  }
  h+='</div></div>';return h;
}

// ═══ OVERVIEW ═══
function pgOverview(el,s,data){
  var wr=s.total?((s.wins/s.total)*100).toFixed(1):"0";
  var recent=(data||[]).slice().reverse().slice(0,10);
  var h='<div class="fade">'+buildModePills();
  h+='<div class="kpi-row">';
  h+='<div class="kpi"><div class="kpi-label">Total Games</div><div class="kpi-val" style="color:var(--t1)">'+s.total+'</div></div>';
  h+='<div class="kpi"><div class="kpi-label">Win Rate</div><div class="kpi-val" style="color:var(--green)">'+wr+'%</div></div>';
  h+='<div class="kpi"><div class="kpi-label">Victories</div><div class="kpi-val" style="color:var(--green)">'+s.wins+'</div></div>';
  h+='<div class="kpi"><div class="kpi-label">Losses</div><div class="kpi-val" style="color:var(--red)">'+(s.total-s.wins)+'</div></div>';
  h+='</div>';

  // ═══ MVP CARDS ═══
  var bestBr=s.brawlers.filter(function(b){return b.p>=3;}).sort(function(a,b){return(+b.wr)-(+a.wr);})[0];
  var bestMp=s.maps.filter(function(m){return m.t>=3;}).sort(function(a,b){var awr=a.t?(a.w/a.t):0,bwr=b.t?(b.w/b.t):0;return bwr-awr;})[0];
  // Best team from data
  var ovTM={};
  for(var oi=0;oi<data.length;oi++){var or=data[oi];
    [or.team1_name,or.team2_name].forEach(function(tn,idx){
      if(!tn||tn.indexOf("Unknown")===0)return;
      if(!ovTM[tn])ovTM[tn]={w:0,p:0};ovTM[tn].p++;
      if((idx===0&&or.result==="victory")||(idx===1&&or.result!=="victory"))ovTM[tn].w++;
    });
  }
  var ovTList=[];for(var otk in ovTM){var ot=ovTM[otk];if(ot.p>=3)ovTList.push({name:otk,w:ot.w,p:ot.p,wr:((ot.w/ot.p)*100).toFixed(1)});}
  ovTList.sort(function(a,b){return(+b.wr)-(+a.wr);});
  var bestTm=ovTList[0]||null;
  // Best player
  var ovPM={};
  for(var oi2=0;oi2<data.length;oi2++){var or2=data[oi2];
    [or2.player1,or2.player2,or2.player3].filter(Boolean).forEach(function(p){if(!ovPM[p])ovPM[p]={w:0,p:0,team:or2.team1_name||""};ovPM[p].p++;if(or2.result==="victory")ovPM[p].w++;});
    [or2.eplayer1,or2.eplayer2,or2.eplayer3].filter(Boolean).forEach(function(p){if(!ovPM[p])ovPM[p]={w:0,p:0,team:or2.team2_name||""};ovPM[p].p++;if(or2.result!=="victory")ovPM[p].w++;});
  }
  var ovPList=[];for(var opk in ovPM){var op=ovPM[opk];if(op.p>=4)ovPList.push({name:opk,w:op.w,p:op.p,wr:((op.w/op.p)*100).toFixed(1),team:op.team});}
  ovPList.sort(function(a,b){return(+b.wr)-(+a.wr);});
  var bestPl=ovPList[0]||null;

  h+='<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:16px">';
  // Best Brawler
  h+='<div style="background:linear-gradient(135deg,rgba(46,204,113,.1),rgba(46,204,113,.02));border:1px solid rgba(46,204,113,.2);border-radius:12px;padding:14px;text-align:center">';
  h+='<div style="font-size:9px;font-weight:800;color:var(--green);text-transform:uppercase;margin-bottom:6px">🏆 BEST BRAWLER</div>';
  if(bestBr){h+=bIcon(bestBr.name,42)+'<div style="font-weight:800;font-size:13px;margin-top:4px">'+bestBr.name+'</div><div style="font-family:var(--mono);font-weight:700;color:var(--green);font-size:18px">'+bestBr.wr+'%</div><div style="font-size:10px;color:var(--t3)">'+bestBr.p+'g</div>';}
  else{h+='<div style="color:var(--t3);font-size:11px">-</div>';}
  h+='</div>';
  // Best Map
  h+='<div style="background:linear-gradient(135deg,rgba(52,152,219,.1),rgba(52,152,219,.02));border:1px solid rgba(52,152,219,.2);border-radius:12px;padding:14px;text-align:center">';
  h+='<div style="font-size:9px;font-weight:800;color:#3498db;text-transform:uppercase;margin-bottom:6px">🗺️ BEST MAP</div>';
  if(bestMp){var _ovMpId=getMapId(bestMp.name);var bmpWr=bestMp.t?((bestMp.w/bestMp.t)*100).toFixed(1):"0";
    if(_ovMpId)h+='<img src="https://cdn.brawlify.com/maps/regular/'+_ovMpId+'.png" style="width:30px;height:40px;border-radius:5px;object-fit:cover;border:1px solid rgba(52,152,219,.3)" onerror="this.style.display=\'none\'">';
    h+='<div style="font-weight:800;font-size:12px;margin-top:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">'+bestMp.name+'</div><div style="font-family:var(--mono);font-weight:700;color:#3498db;font-size:18px">'+bmpWr+'%</div><div style="font-size:10px;color:var(--t3)">'+bestMp.t+'g</div>';}
  else{h+='<div style="color:var(--t3);font-size:11px">-</div>';}
  h+='</div>';
  // Best Team
  h+='<div style="background:linear-gradient(135deg,rgba(241,196,15,.1),rgba(241,196,15,.02));border:1px solid rgba(241,196,15,.2);border-radius:12px;padding:14px;text-align:center">';
  h+='<div style="font-size:9px;font-weight:800;color:#f1c40f;text-transform:uppercase;margin-bottom:6px">🛡️ BEST TEAM</div>';
  if(bestTm){var tI3=teamInfo(bestTm.name);
    h+=teamLogo(bestTm.name,36)+'<div style="font-weight:800;font-size:12px;margin-top:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">'+(tI3?tI3.org:bestTm.name)+'</div><div style="font-family:var(--mono);font-weight:700;color:#f1c40f;font-size:18px">'+bestTm.wr+'%</div><div style="font-size:10px;color:var(--t3)">'+bestTm.p+'g</div>';}
  else{h+='<div style="color:var(--t3);font-size:11px">-</div>';}
  h+='</div>';
  // Best Player
  h+='<div style="background:linear-gradient(135deg,rgba(155,89,182,.1),rgba(155,89,182,.02));border:1px solid rgba(155,89,182,.2);border-radius:12px;padding:14px;text-align:center">';
  h+='<div style="font-size:9px;font-weight:800;color:#9b59b6;text-transform:uppercase;margin-bottom:6px">⭐ BEST PLAYER</div>';
  if(bestPl){
    h+='<div style="width:36px;height:36px;border-radius:50%;background:#9b59b6;display:inline-flex;align-items:center;justify-content:center;font-weight:900;font-size:16px;color:#fff">'+bestPl.name.charAt(0).toUpperCase()+'</div>';
    h+='<div style="font-weight:800;font-size:12px;margin-top:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">'+bestPl.name+'</div><div style="font-family:var(--mono);font-weight:700;color:#9b59b6;font-size:18px">'+bestPl.wr+'%</div><div style="font-size:10px;color:var(--t3)">'+bestPl.p+'g</div>';}
  else{h+='<div style="color:var(--t3);font-size:11px">-</div>';}
  h+='</div>';
  h+='</div>';

  h+='<div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:16px">';
  h+='<div class="card"><div class="card-t">WR Timeline</div><div class="chart-box"><canvas id="chTL"></canvas></div></div>';
  h+='<div class="card"><div class="card-t">WR by Mode</div><div class="chart-box"><canvas id="chM"></canvas></div></div>';
  h+='</div>';
  h+='<div class="card"><div class="card-t">Recent Matches</div><div style="overflow-x:auto"><table><thead><tr><th>Date</th><th>Mode</th><th>Map</th><th>Team</th><th>Your Comp</th><th>vs</th><th>Enemy Comp</th><th>Score</th><th>Result</th></tr></thead><tbody>';
  for(var i=0;i<recent.length;i++){var r=recent[i];
    var ot1=r.team1_name?(r.team1_name.length>12?r.team1_name.slice(0,12)+"…":r.team1_name):"";
    var ot2=r.team2_name?(r.team2_name.length>12?r.team2_name.slice(0,12)+"…":r.team2_name):"";
    h+='<tr><td style="font-family:var(--mono);font-size:11px">'+r.date+'</td>';
    h+='<td style="font-size:11px">'+mIco(r.mode)+'</td>';
    h+='<td style="font-size:11px">'+r.map+'</td>';
    h+='<td style="font-size:10px;font-weight:600;color:var(--t2)">'+ot1+'</td>';
    h+='<td style="font-size:11px">'+bIconSm(r.brawler1)+bIconSm(r.brawler2)+bIconSm(r.brawler3)+'</td>';
    h+='<td style="font-size:10px;color:var(--t3)">vs</td>';
    h+='<td style="font-size:11px">'+bIconSm(r.enemy1)+bIconSm(r.enemy2)+bIconSm(r.enemy3)+'</td>';
    h+='<td style="font-family:var(--mono);font-size:11px;font-weight:700">'+(r.set_score||"-")+'</td>';
    h+='<td>'+resultBadge(r.result)+'</td></tr>';}
  h+='</tbody></table></div></div></div>';
  el.innerHTML=h;
  if(s.timeline.length)mChart("chTL","line",{labels:s.timeline.map(function(d){return d.date;}),datasets:[{data:s.timeline.map(function(d){return +d.wr;}),borderColor:"#2ecc71",backgroundColor:"rgba(46,204,113,.06)",fill:true,tension:.3,pointRadius:3,pointBackgroundColor:"#2ecc71",borderWidth:2}]},{scales:{x:{ticks:{color:"#666"},grid:{color:"rgba(42,42,42,.25)"}},y:{min:0,max:100,ticks:{color:"#666"},grid:{color:"rgba(42,42,42,.25)"}}}});
  if(s.modes.length)mChart("chM","bar",{labels:s.modes.map(function(m){return m.name;}),datasets:[{data:s.modes.map(function(m){return +m.wr;}),backgroundColor:s.modes.map(function(m){return(MC[m.name]||"#666")+"80";}),borderColor:s.modes.map(function(m){return MC[m.name]||"#666";}),borderWidth:1,borderRadius:6}]},{scales:{x:{ticks:{color:"#666"},grid:{display:false}},y:{min:0,max:100,ticks:{color:"#666"},grid:{color:"rgba(42,42,42,.25)"}}}});
}

// ═══ META ═══
function pgMeta(el,s){
  var list=s.brawlers.filter(function(b){return b.p>=3;});
  list.sort(function(a,b){return b.p-a.p;});
  var h='<div class="fade"><div style="display:flex;align-items:center;gap:10px;margin-bottom:20px"><span style="font-size:22px;display:inline-flex">★</span><span style="font-size:24px;font-weight:900">META RANKINGS</span></div>';
  h+=buildModePills();
  h+='<input class="search-box" id="metaSearch" placeholder="⌕ Search brawler..." oninput="filterMeta()">';
  var dr=getDateRange(getFD());
  h+='<div style="font-size:13px;color:var(--t3);margin-bottom:10px">'+dr.label+' · '+s.total+' games · 📡 Auto-sync Google Sheets</div>';
  h+='<div class="card" style="padding:0;overflow:hidden"><table><thead><tr><th>#</th><th>Brawler</th><th>Win Rate</th><th>Pick Rate</th><th>Best Map</th><th>Games</th></tr></thead><tbody id="mBody">';
  for(var i=0;i<list.length;i++){
    var b=list[i];
    // Find best map for this brawler (min 2 picks)
    var bestMap=null,bestMapWr=0;
    for(var mk in b.maps){var mm=b.maps[mk];if(mm.n>=2){var mwr=(mm.w/mm.n)*100;if(mwr>bestMapWr){bestMapWr=mwr;bestMap={name:mk,wr:mwr.toFixed(0),n:mm.n};}}}
    h+='<tr data-n="'+b.name.toLowerCase()+'"><td style="font-weight:800;color:var(--green)">#'+(i+1)+'</td>';
    h+='<td><div class="brawler-cell">'+bIcon(b.name,36)+b.name+'</div></td>';
    h+='<td class="'+wrCol(b.wr)+'">'+b.wr+'%</td>';
    h+='<td style="font-family:var(--mono);color:var(--t2)">'+b.pr+'%</td>';
    h+='<td>';
    if(bestMap){
      var _bmId=getMapId(bestMap.name);
      h+='<div style="display:flex;align-items:center;gap:5px">';
      if(_bmId)h+='<img src="https://cdn.brawlify.com/maps/regular/'+_bmId+'.png" style="width:18px;height:24px;border-radius:3px;object-fit:cover" onerror="this.style.display=\'none\'">';
      h+='<span style="font-size:11px;font-weight:600;color:var(--t2);max-width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap">'+bestMap.name+'</span>';
      h+='<span style="font-size:10px;font-weight:700;color:var(--green);font-family:var(--mono)">'+bestMap.wr+'%</span>';
      h+='</div>';
    }else{h+='<span style="color:var(--t3);font-size:11px">-</span>';}
    h+='</td>';
    h+='<td style="font-family:var(--mono);font-weight:700">'+b.p+'</td></tr>';
  }
  h+='</tbody></table></div></div>';
  el.innerHTML=h;
}
function filterMeta(){var v=document.getElementById("metaSearch").value.toLowerCase();document.querySelectorAll("#mBody tr").forEach(function(r){r.style.display=r.dataset.n.indexOf(v)>=0?"":"none";});}

// ═══ BRAWLERS ═══
function pgBrawlers(el,s){
  var allB=s.brawlers.map(function(b){return b.name;}).sort(bSort);
  var h='<div class="fade"><div style="display:grid;grid-template-columns:300px 1fr;gap:20px">';
  h+='<div><input class="search-box" id="bSearch" placeholder="Search Brawler..." oninput="filterBGrid()" style="max-width:100%">';
  h+='<div class="pills" id="bCPills"><div class="pill white" onclick="setBCF(\'\')">ALL</div>';
  for(var ci=0;ci<CLASSES.length;ci++){var c=CLASSES[ci];h+='<div class="pill" onclick="setBCF(\''+c+'\')">'+clsIco(c,14)+' '+c.toUpperCase()+'</div>';}
  h+='</div>';
  h+='<div class="b-grid" id="bGrid">';
  for(var i=0;i<allB.length;i++){
    var b=allB[i];var src=bImgSrc(b);
    h+='<div class="b-icon" style="background:'+bc(b)+'" onclick="showB(\''+b.replace(/'/g,"\\'")+'\');" title="'+b+'" data-b="'+b+'" data-cls="'+(BCLS[b]||"")+'">';
    if(src)h+='<img src="'+src+'" style="width:100%;height:100%;object-fit:cover;border-radius:8px;position:absolute;top:0;left:0" onerror="this.style.display=\'none\'">';
    h+='<div class="b-icon-name">'+b+'</div></div>';
  }
  h+='</div></div><div id="bP"><div style="color:var(--t3);text-align:center;padding:60px">← Select a brawler</div></div></div></div>';
  el.innerHTML=h;
}
var _bcf="";
function setBCF(c){_bcf=c;var pills=document.querySelectorAll("#bCPills .pill");pills.forEach(function(p){p.classList.remove("white","green");});if(!c)pills[0].classList.add("white");else pills.forEach(function(p){if(p.textContent.toUpperCase().indexOf(c.toUpperCase())>=0)p.classList.add("green");});filterBGrid();}
function filterBGrid(){var v=document.getElementById("bSearch").value.toLowerCase();document.querySelectorAll("#bGrid .b-icon").forEach(function(e){var nm=e.dataset.b.toLowerCase().indexOf(v)>=0;var cm=!_bcf||e.dataset.cls===_bcf;e.style.display=(nm&&cm)?"":"none";});}

function showB(name){
  var s=compute(getFD()),b=null;
  for(var i=0;i<s.brawlers.length;i++){if(s.brawlers[i].name===name){b=s.brawlers[i];break;}}
  if(!b)return;
  document.querySelectorAll("#bGrid .b-icon").forEach(function(e){e.classList.toggle("sel",e.title===name);});
  var modeE=[];for(var mk in b.modes){var md=b.modes[mk];modeE.push({name:mk,wr:((md.w/md.n)*100).toFixed(1),n:md.n});}
  modeE.sort(function(a,c){return(+c.wr)-(+a.wr);});
  var mapE=[];for(var mpk in b.maps){var mp=b.maps[mpk];mapE.push({name:mpk,wr:((mp.w/mp.n)*100).toFixed(1),w:mp.w,n:mp.n});}
  mapE.sort(function(a,c){return(+c.wr)-(+a.wr);});

  // Synergies (best teammates)
  var synArr=[];for(var sk in s.synergies){var sy=s.synergies[sk];if(sy.a===name||sy.b===name){var mate=sy.a===name?sy.b:sy.a;if(sy.t>=2)synArr.push({name:mate,wr:((sy.w/sy.t)*100).toFixed(1),w:sy.w,t:sy.t});}}
  synArr.sort(function(a,c){return(+c.wr)-(+a.wr);});
  var bestMates=synArr.slice(0,5);
  var worstMates=synArr.length>5?synArr.slice(-3).reverse():[];

  // Counters
  var cntArr=[];var cntByArr=[];
  for(var ck in s.counters){var ct=s.counters[ck];
    if(ct.brawler===name&&ct.t>=2){cntArr.push({name:ct.enemy,wr:((ct.w/ct.t)*100).toFixed(1),w:ct.w,t:ct.t});}
    if(ct.enemy===name&&ct.t>=2){cntByArr.push({name:ct.brawler,wr:((ct.w/ct.t)*100).toFixed(1),w:ct.w,t:ct.t});}
  }
  cntArr.sort(function(a,c){return(+c.wr)-(+a.wr);});
  cntByArr.sort(function(a,c){return(+c.wr)-(+a.wr);});
  var bestVs=cntArr.slice(0,5);
  var worstVs=cntArr.length>3?cntArr.slice(-3).reverse():[];
  var counteredBy=cntByArr.slice(0,5);

  var tier=getTier(b.wr);
  var h='<div class="card fade">';
  // Header with image
  h+='<div style="display:flex;align-items:center;gap:14px;margin-bottom:20px">'+bIcon(name,64);
  h+='<div><div style="font-size:26px;font-weight:900;text-transform:uppercase">'+name+'</div>';
  h+='<span style="padding:3px 8px;border-radius:4px;font-size:11px;font-weight:700;font-family:var(--mono);background:'+TC[tier]+'20;color:'+TC[tier]+'">'+tier+' Tier</span>';
  if(BCLS[name])h+=' <span style="padding:3px 8px;border-radius:4px;font-size:10px;font-weight:600;background:var(--bg4);color:var(--t2)">'+clsIco(BCLS[name],14)+' '+BCLS[name]+'</span>';
  h+='</div></div>';

  // Stats cards
  h+='<div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:20px">';
  h+='<div style="background:var(--bg3);border-radius:8px;padding:12px;text-align:center"><div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase">Win Rate</div><div style="font-size:22px;font-weight:800;font-family:var(--mono);color:'+wrHex(b.wr)+'">'+b.wr+'%</div></div>';
  h+='<div style="background:var(--bg3);border-radius:8px;padding:12px;text-align:center"><div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase">Pick Rate</div><div style="font-size:22px;font-weight:800;font-family:var(--mono)">'+b.pr+'%</div></div>';
  h+='<div style="background:var(--bg3);border-radius:8px;padding:12px;text-align:center"><div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase">Sets</div><div style="font-size:22px;font-weight:800;font-family:var(--mono)">'+b.p+'</div></div>';
  h+='</div>';

  // ═══ BEST COMBOS (Synergies) ═══
  if(bestMates.length){
    h+='<div class="card-t">⚡ Best Combos</div><div style="margin-bottom:16px">';
    for(var ci=0;ci<bestMates.length;ci++){var cm2=bestMates[ci];
      var barW=Math.min(+cm2.wr,100);
      h+='<div style="display:flex;align-items:center;gap:8px;padding:7px 0;border-bottom:1px solid var(--border)">';
      h+=bIconSm(cm2.name);
      h+='<span style="flex:1;font-weight:600;font-size:13px">'+cm2.name+'</span>';
      h+='<div style="width:80px;height:6px;background:var(--bg4);border-radius:3px;overflow:hidden"><div style="height:100%;width:'+barW+'%;background:'+wrHex(cm2.wr)+';border-radius:3px"></div></div>';
      h+='<span class="'+wrCol(cm2.wr)+'" style="font-family:var(--mono);font-weight:700;font-size:13px;min-width:52px;text-align:right">'+cm2.wr+'%</span>';
      h+='<span style="font-size:10px;color:var(--t3);min-width:30px;text-align:right">'+cm2.t+'g</span></div>';
    }
    if(worstMates.length){
      h+='<div style="margin-top:10px;font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase;margin-bottom:4px">▼ Worst Synergies</div>';
      for(var wi=0;wi<worstMates.length;wi++){var wm=worstMates[wi];
        h+='<div style="display:flex;align-items:center;gap:8px;padding:5px 0;border-bottom:1px solid var(--border)">';
        h+=bIconSm(wm.name)+'<span style="flex:1;font-weight:600;font-size:12px;color:var(--t2)">'+wm.name+'</span>';
        h+='<span class="'+wrCol(wm.wr)+'" style="font-family:var(--mono);font-weight:700;font-size:12px">'+wm.wr+'%</span>';
        h+='<span style="font-size:10px;color:var(--t3)">'+wm.t+'g</span></div>';
      }
    }
    h+='</div>';
  }

  // ═══ COUNTERS ═══
  if(bestVs.length||counteredBy.length){
    h+='<div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px">';
    // Beats
    h+='<div><div class="card-t">'+sIco("up")+name+' beats</div>';
    if(bestVs.length){for(var vi=0;vi<bestVs.length;vi++){var bv=bestVs[vi];
      h+='<div style="display:flex;align-items:center;gap:6px;padding:5px 0;border-bottom:1px solid var(--border)">';
      h+=bIconSm(bv.name)+'<span style="flex:1;font-weight:600;font-size:12px">'+bv.name+'</span>';
      h+='<span class="'+wrCol(bv.wr)+'" style="font-family:var(--mono);font-weight:700;font-size:12px">'+bv.wr+'%</span></div>';
    }}else{h+='<div style="color:var(--t3);font-size:12px;padding:8px 0">No data</div>';}
    if(worstVs.length){
      h+='<div style="margin-top:8px;font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase;margin-bottom:2px">Struggles vs</div>';
      for(var wvi=0;wvi<worstVs.length;wvi++){var wv=worstVs[wvi];
        h+='<div style="display:flex;align-items:center;gap:6px;padding:4px 0;border-bottom:1px solid var(--border)">';
        h+=bIconSm(wv.name)+'<span style="flex:1;font-size:11px;color:var(--t2)">'+wv.name+'</span>';
        h+='<span class="'+wrCol(wv.wr)+'" style="font-family:var(--mono);font-size:11px">'+wv.wr+'%</span></div>';
      }
    }
    h+='</div>';
    // Countered by
    h+='<div><div class="card-t">▼ Countered by</div>';
    if(counteredBy.length){for(var cbi=0;cbi<counteredBy.length;cbi++){var cb=counteredBy[cbi];
      h+='<div style="display:flex;align-items:center;gap:6px;padding:5px 0;border-bottom:1px solid var(--border)">';
      h+=bIconSm(cb.name)+'<span style="flex:1;font-weight:600;font-size:12px">'+cb.name+'</span>';
      h+='<span class="'+wrCol(cb.wr)+'" style="font-family:var(--mono);font-weight:700;font-size:12px">'+cb.wr+'%</span></div>';
    }}else{h+='<div style="color:var(--t3);font-size:12px;padding:8px 0">No data</div>';}
    h+='</div></div>';
  }

  // ═══ WR BY MODE ═══
  h+='<div class="card-t">'+sIco("wrmode")+'WR by Mode</div><div style="margin-bottom:16px">';
  for(var mi=0;mi<modeE.length;mi++){var me=modeE[mi];
    var mBarW=Math.min(+me.wr,100);
    h+='<div style="display:flex;align-items:center;gap:8px;padding:6px 0;border-bottom:1px solid var(--border)">';
    h+=mIco(me.name);
    h+='<span style="flex:1;font-weight:600;font-size:13px">'+me.name+'</span>';
    h+='<div style="width:80px;height:6px;background:var(--bg4);border-radius:3px;overflow:hidden"><div style="height:100%;width:'+mBarW+'%;background:'+wrHex(me.wr)+';border-radius:3px"></div></div>';
    h+='<span class="'+wrCol(me.wr)+'" style="font-family:var(--mono);font-weight:700;font-size:13px;min-width:48px;text-align:right">'+me.wr+'%</span>';
    h+='<span style="font-size:10px;color:var(--t3);min-width:30px;text-align:right">'+me.n+'g</span></div>';
  }
  h+='</div>';

  // ═══ BEST & WORST MAPS ═══
  if(mapE.length){
    // Best map highlight
    var bestMapB=mapE[0];
    var bmMode="";for(var bmi=0;bmi<matchData.length;bmi++){if(matchData[bmi].map===bestMapB.name){bmMode=matchData[bmi].mode;break;}}
    var _bmMapId=getMapId(bestMapB.name);
    h+='<div style="background:linear-gradient(135deg,rgba(46,204,113,.1),rgba(46,204,113,.02));border:1px solid rgba(46,204,113,.2);border-radius:12px;padding:14px;margin-bottom:14px;display:flex;align-items:center;gap:14px">';
    if(_bmMapId)h+='<img src="https://cdn.brawlify.com/maps/regular/'+_bmMapId+'.png" style="width:36px;height:48px;border-radius:6px;object-fit:cover;border:1px solid rgba(46,204,113,.3)" onerror="this.style.display=\'none\'">';
    h+='<div style="flex:1"><div style="font-size:10px;font-weight:800;color:var(--green);text-transform:uppercase">🏆 BEST MAP</div>';
    h+='<div style="font-weight:800;font-size:14px">'+bestMapB.name+'</div>';
    h+='<div style="font-size:11px;color:'+(MC[bmMode]||"var(--t3)")+';display:flex;align-items:center;gap:3px">'+mIco(bmMode)+bmMode+'</div></div>';
    h+='<div style="text-align:right"><div style="font-family:var(--mono);font-weight:900;font-size:22px;color:var(--green)">'+bestMapB.wr+'%</div>';
    h+='<div style="font-size:10px;color:var(--t3)">'+bestMapB.n+' games</div></div></div>';
  }
  h+='<div class="card-t">'+sIco("map")+'Best Maps</div><div class="map-grid" style="margin-bottom:12px">';
  var topMaps=mapE.slice(0,Math.min(6,mapE.length));
  for(var j=0;j<topMaps.length;j++){
    var mp2=topMaps[j];var mode2="";
    for(var k=0;k<matchData.length;k++){if(matchData[k].map===mp2.name){mode2=matchData[k].mode;break;}}
    var _mId=getMapId(mp2.name);
    h+='<div class="map-card"><div class="map-card-top" style="background:'+(MC[mode2]||"#666")+';position:relative;height:'+ (_mId?'80px':'28px') +'">';
    if(_mId)h+='<img src="https://cdn.brawlify.com/maps/regular/'+_mId+'.png" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;opacity:.5" crossorigin="anonymous" loading="lazy" onerror="this.style.display=\'none\'">';
    h+='<span style="position:relative;z-index:1">'+(mode2||"MAP")+'</span></div>';
    h+='<div class="map-card-body"><div class="map-card-name">'+mp2.name+'</div>';
    h+='<div class="map-card-wr" style="color:'+wrHex(mp2.wr)+'">'+mp2.wr+'%</div>';
    h+='<div class="map-card-sub">'+mp2.w+'W '+(mp2.n-mp2.w)+'L</div></div></div>';
  }
  h+='</div>';
  if(mapE.length>3){
    var worstMaps=mapE.slice(-Math.min(3,mapE.length-3)).reverse();
    h+='<div class="card-t" style="color:var(--red)">'+sIco("down")+'Worst Maps</div><div class="map-grid">';
    for(var wj=0;wj<worstMaps.length;wj++){
      var wmp=worstMaps[wj];var wmode="";
      for(var wk=0;wk<matchData.length;wk++){if(matchData[wk].map===wmp.name){wmode=matchData[wk].mode;break;}}
      var _wmId=getMapId(wmp.name);
      h+='<div class="map-card" style="border-color:rgba(231,76,60,.2)"><div class="map-card-top" style="background:'+(MC[wmode]||"#666")+';position:relative;height:'+(_wmId?'80px':'28px')+'">';
      if(_wmId)h+='<img src="https://cdn.brawlify.com/maps/regular/'+_wmId+'.png" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;opacity:.4" crossorigin="anonymous" loading="lazy" onerror="this.style.display=\'none\'">';
      h+='<span style="position:relative;z-index:1">'+(wmode||"MAP")+'</span></div>';
      h+='<div class="map-card-body"><div class="map-card-name">'+wmp.name+'</div>';
      h+='<div class="map-card-wr" style="color:var(--red)">'+wmp.wr+'%</div>';
      h+='<div class="map-card-sub">'+wmp.w+'W '+(wmp.n-wmp.w)+'L</div></div></div>';
    }
    h+='</div>';
  }

  h+='</div>';
  document.getElementById("bP").innerHTML=h;
}

// ═══ TEAMS ═══
function genTeamData(){
  var data=getFD();
  var tmap={};
  data.forEach(function(r){
    [r.team1_name,r.team2_name].forEach(function(tn){
      if(!tn||tn==="unknown")return;
      if(!tmap[tn])tmap[tn]={name:tn,games:[],setsW:0,setsL:0,region:"",tier:"",players:{},playerBrawlers:{},modeMap:{},mapMap:{},brawlerMap:{},h2hMap:{},dailyMap:{},scrims:[]};
    });
  });
  data.forEach(function(r){
    var t1=r.team1_name,t2=r.team2_name;
    var isWin1=r.result==="victory";
    if(tmap[t1]){
      var td=tmap[t1];
      td.games.push(r);
      if(r.region1&&r.region1!=="unknown")td.region=r.region1;
      if(r.tier1&&r.tier1!=="unknown")td.tier=td.tier||r.tier1;
      var pls=[r.player1,r.player2,r.player3],brs=[r.brawler1,r.brawler2,r.brawler3];
      for(var pi=0;pi<3;pi++){var p=pls[pi],b=brs[pi];if(p){td.players[p]=1;if(b){if(!td.playerBrawlers[p])td.playerBrawlers[p]={};if(!td.playerBrawlers[p][b])td.playerBrawlers[p][b]={w:0,p:0};td.playerBrawlers[p][b].p++;if(isWin1)td.playerBrawlers[p][b].w++;}}}
      [r.brawler1,r.brawler2,r.brawler3].forEach(function(b){if(b){if(!td.brawlerMap[b])td.brawlerMap[b]={w:0,p:0};td.brawlerMap[b].p++;if(isWin1)td.brawlerMap[b].w++;}});
      if(r.mode){if(!td.modeMap[r.mode])td.modeMap[r.mode]={w:0,l:0};if(isWin1)td.modeMap[r.mode].w++;else td.modeMap[r.mode].l++;}
      if(r.map){if(!td.mapMap[r.map])td.mapMap[r.map]={w:0,l:0};if(isWin1)td.mapMap[r.map].w++;else td.mapMap[r.map].l++;}
      if(t2&&tmap[t2]){if(!td.h2hMap[t2])td.h2hMap[t2]={w:0,l:0};if(isWin1)td.h2hMap[t2].w++;else td.h2hMap[t2].l++;}
      if(r.date){if(!td.dailyMap[r.date])td.dailyMap[r.date]={w:0,t:0};td.dailyMap[r.date].t++;if(isWin1)td.dailyMap[r.date].w++;}
    }
    if(tmap[t2]){
      var td2=tmap[t2];
      td2.games.push(r);
      if(r.region2&&r.region2!=="unknown")td2.region=r.region2;
      if(r.tier2&&r.tier2!=="unknown")td2.tier=td2.tier||r.tier2;
      var pls2=[r.eplayer1,r.eplayer2,r.eplayer3],brs2=[r.enemy1,r.enemy2,r.enemy3];
      for(var pi2=0;pi2<3;pi2++){var p2=pls2[pi2],b2=brs2[pi2];if(p2){td2.players[p2]=1;if(b2){if(!td2.playerBrawlers[p2])td2.playerBrawlers[p2]={};if(!td2.playerBrawlers[p2][b2])td2.playerBrawlers[p2][b2]={w:0,p:0};td2.playerBrawlers[p2][b2].p++;if(!isWin1)td2.playerBrawlers[p2][b2].w++;}}}
      [r.enemy1,r.enemy2,r.enemy3].forEach(function(b){if(b){if(!td2.brawlerMap[b])td2.brawlerMap[b]={w:0,p:0};td2.brawlerMap[b].p++;if(!isWin1)td2.brawlerMap[b].w++;}});
      if(r.mode){if(!td2.modeMap[r.mode])td2.modeMap[r.mode]={w:0,l:0};if(!isWin1)td2.modeMap[r.mode].w++;else td2.modeMap[r.mode].l++;}
      if(r.map){if(!td2.mapMap[r.map])td2.mapMap[r.map]={w:0,l:0};if(!isWin1)td2.mapMap[r.map].w++;else td2.mapMap[r.map].l++;}
      if(t1&&tmap[t1]){if(!td2.h2hMap[t1])td2.h2hMap[t1]={w:0,l:0};if(!isWin1)td2.h2hMap[t1].w++;else td2.h2hMap[t1].l++;}
      if(r.date){if(!td2.dailyMap[r.date])td2.dailyMap[r.date]={w:0,t:0};td2.dailyMap[r.date].t++;if(!isWin1)td2.dailyMap[r.date].w++;}
    }
  });
  var setResults={};
  data.forEach(function(r){
    if(!r.set_id||!r.set_score)return;
    if(setResults[r.set_id])return;
    setResults[r.set_id]=r;
  });
  Object.keys(tmap).forEach(function(tn){
    var td=tmap[tn];td.setsW=0;td.setsL=0;
    var counted={};
    td.games.forEach(function(g){
      if(!g.set_id||!g.set_score||counted[g.set_id])return;
      counted[g.set_id]=1;
      var parts=g.set_score.split("-").map(Number);
      var isT1=g.team1_name===tn;
      var sw=isT1?parts[0]:parts[1],sl=isT1?parts[1]:parts[0];
      if(sw>sl)td.setsW++;else if(sl>sw)td.setsL++;
    });
  });
  var teams=[];
  var regionMap={NORTHAMERICA:"NA",EMEA:"EMEA",SOUTHAMERICA:"SA",EASTASIA:"APAC",SOUTHEASTASIA:"APAC",unknown:""};
  Object.keys(tmap).forEach(function(tn){
    var td=tmap[tn];
    var totalG=td.games.length;
    if(totalG<2)return;
    var wG=td.games.filter(function(g){return(g.team1_name===tn&&g.result==="victory")||(g.team2_name===tn&&g.result!=="victory");}).length;
    var totalS=td.setsW+td.setsL;
    var wr=totalS?((td.setsW/totalS)*100).toFixed(1):"0";
    var dbInfo=TEAMS_DB[tn]||null;
    var region=dbInfo?dbInfo.region:(regionMap[td.region]||td.region||"");
    var tag=dbInfo?dbInfo.tag:tn.replace(/[^A-Z0-9]/gi,"").slice(0,3).toUpperCase();
    var color=dbInfo?dbInfo.color:bc(tn);
    var players=Object.keys(td.players);
    var form=[];var counted2={};
    var sortedG=td.games.slice().sort(function(a,b){return a.date>b.date?1:-1;});
    for(var i=sortedG.length-1;i>=0&&form.length<5;i--){
      var g=sortedG[i];if(!g.set_id||!g.set_score||counted2[g.set_id])continue;
      counted2[g.set_id]=1;
      var pp=g.set_score.split("-").map(Number);
      var isT=g.team1_name===tn;
      form.push((isT?pp[0]:pp[1])>(isT?pp[1]:pp[0])?"W":"L");
    }
    var modeStats=[];Object.keys(td.modeMap).forEach(function(m){var ms=td.modeMap[m];modeStats.push({mode:m,w:ms.w,l:ms.l,wr:((ms.w/(ms.w+ms.l))*100).toFixed(1)});});
    modeStats.sort(function(a,b){return(b.w+b.l)-(a.w+a.l);});
    var mapStats=[];Object.keys(td.mapMap).forEach(function(m){var ms=td.mapMap[m];mapStats.push({map:m,w:ms.w,l:ms.l,wr:((ms.w/(ms.w+ms.l))*100).toFixed(1)});});
    mapStats.sort(function(a,b){return(+b.wr)-(+a.wr);});
    var topB=[];Object.keys(td.brawlerMap).forEach(function(b){var bs=td.brawlerMap[b];topB.push({name:b,w:bs.w,p:bs.p,wr:((bs.w/bs.p)*100).toFixed(1)});});
    topB.sort(function(a,b){return b.p-a.p;});
    var h2h=[];Object.keys(td.h2hMap).forEach(function(vs){var hs=td.h2hMap[vs];h2h.push({vs:vs,w:hs.w,l:hs.l,wr:((hs.w/(hs.w+hs.l))*100).toFixed(1)});});
    h2h.sort(function(a,b){return(b.w+b.l)-(a.w+a.l);});
    var days=[];Object.keys(td.dailyMap).sort().forEach(function(d){days.push({d:d,w:td.dailyMap[d].w,t:td.dailyMap[d].t});});
    var scrimMap={};var counted3={};
    sortedG.forEach(function(g){
      if(!g.set_id||counted3[g.set_id])return;counted3[g.set_id]=1;
      var vs=g.team1_name===tn?g.team2_name:g.team1_name;
      var key=g.date+"_"+vs;
      if(!scrimMap[key])scrimMap[key]={date:g.date,vs:vs,w:0,l:0};
      var pp2=g.set_score.split("-").map(Number);
      var isT2=g.team1_name===tn;
      if((isT2?pp2[0]:pp2[1])>(isT2?pp2[1]:pp2[0]))scrimMap[key].w++;else scrimMap[key].l++;
    });
    var scrims=[];Object.keys(scrimMap).forEach(function(k){scrims.push(scrimMap[k]);});
    scrims.sort(function(a,b){return a.date>b.date?-1:1;});
    var lastDate=scrims.length?scrims[0].date:"-";
    // Build player brawler data for roster
    var playerData=[];
    players.forEach(function(pn){
      var pbMap=td.playerBrawlers[pn]||{};
      var pbList=[];Object.keys(pbMap).forEach(function(b){pbList.push({name:b,w:pbMap[b].w,p:pbMap[b].p,wr:pbMap[b].p?((pbMap[b].w/pbMap[b].p)*100).toFixed(0):"0"});});
      pbList.sort(function(a,b){return b.p-a.p;});
      var totalP=0;pbList.forEach(function(x){totalP+=x.p;});
      playerData.push({name:pn,brawlers:pbList.slice(0,5),games:totalP});
    });
    playerData.sort(function(a,b){return b.games-a.games;});
    var displayName=dbInfo?dbInfo.org:tn;
    var isUnknown=tn.indexOf("Unknown")===0;
    teams.push({name:tn,displayName:displayName,tag:tag,region:region,color:color,players:players,playerData:playerData,wr:wr,w:td.setsW,l:td.setsL,t:totalS,tier:getTier(Math.round(+wr)),form:form,days:days,modeStats:modeStats,mapStats:mapStats,topB:topB,h2h:h2h,scrims:scrims.slice(0,10),lastDate:lastDate,dbInfo:dbInfo,isUnknown:isUnknown});
  });
  teams.sort(function(a,b){return(+b.wr)-(+a.wr);});
  return teams;
}

function pgTeams(el,s){
  var teams=genTeamData();
  var knownTeams=teams.filter(function(t){return !t.isUnknown;});
  var unknownTeams=teams.filter(function(t){return t.isUnknown;});
  var h='<div class="fade">';
  h+='<div style="display:flex;align-items:center;gap:10px;margin-bottom:16px"><span style="font-size:24px;font-weight:900">TEAM STATS (SET)</span><span style="font-size:13px;color:var(--t3)">'+teams.length+' teams</span></div>';
  var rSet={};teams.forEach(function(t){if(t.region)rSet[t.region]=1;});
  var regions=Object.keys(rSet).sort();
  h+='<div class="pills" id="regionPills"><div class="pill white" onclick="filterTeams(\'ALL\')">ALL REGIONS</div>';
  for(var r=0;r<regions.length;r++){h+='<div class="pill" onclick="filterTeams(\''+regions[r]+'\')">'+regions[r]+'</div>';}
  h+='</div>';
  h+='<input class="search-box" id="teamSearch" placeholder="⌕ Search team..." oninput="filterTeamSearch()">';
  // Known teams section
  if(knownTeams.length){
    h+='<div style="margin-bottom:8px;margin-top:16px"><span style="font-weight:800;font-size:16px;color:var(--t1)">KNOWN TEAMS</span><span style="font-size:12px;color:var(--t3);margin-left:8px">('+knownTeams.length+')</span></div>';
    var tiers=["S","A","B","C","D","F"];
    for(var ti=0;ti<tiers.length;ti++){
      var tier=tiers[ti];
      var tierTeams=knownTeams.filter(function(t){return t.tier===tier;});
      if(!tierTeams.length)continue;
      h+='<div class="tier-section" style="margin-bottom:24px">';
      h+='<div style="display:flex;align-items:center;gap:8px;margin-bottom:12px"><div style="width:32px;height:32px;border-radius:6px;background:'+TC[tier]+'20;color:'+TC[tier]+';display:flex;align-items:center;justify-content:center;font-weight:900;font-size:16px;font-family:var(--mono)">'+tier+'</div><span style="font-weight:800;font-size:16px;color:'+TC[tier]+'">TIER '+tier+'</span><span style="font-size:12px;color:var(--t3)">('+tierTeams.length+' teams)</span></div>';
      h+='<div class="team-grid">';
      for(var j=0;j<tierTeams.length;j++){
        var tm=tierTeams[j];
        h+=renderTeamCard(tm);
      }
      h+='</div></div>';
    }
  }
  // Unknown teams section
  if(unknownTeams.length){
    h+='<div style="margin-bottom:8px;margin-top:24px"><span style="font-weight:800;font-size:16px;color:var(--t2)">OTHER TEAMS</span><span style="font-size:12px;color:var(--t3);margin-left:8px">('+unknownTeams.length+')</span></div>';
    h+='<div class="team-grid">';
    for(var u=0;u<unknownTeams.length;u++){
      h+=renderTeamCard(unknownTeams[u]);
    }
    h+='</div>';
  }
  h+='</div>';
  el.innerHTML=h;
}
function renderTeamCard(tm){
  var wrC=(+tm.wr)>=50?"var(--green)":"var(--red)";
  var safeN=tm.name.replace(/'/g,"\\'").replace(/"/g,"&quot;");
  var logoHtml=teamLogo(tm.name,36);
  var h='<div class="tc" data-team="'+safeN+'" data-region="'+tm.region+'" onclick="showTeam(\''+safeN+'\')" style="cursor:pointer">';
  h+='<div class="tc-head">';
  if(logoHtml){h+=logoHtml;}
  else{h+='<div class="tc-logo" style="background:'+tm.color+'">'+tm.tag+'</div>';}
  h+='<div><div class="tc-name">'+tm.displayName+'</div><div class="tc-sub">'+(tm.region?tm.region+' · ':'')+tm.players.length+' players · '+tm.t+' sets</div></div></div>';
  // Player brawler icons row
  if(tm.playerData&&tm.playerData.length){
    h+='<div style="padding:6px 0;border-bottom:1px solid var(--border)">';
    for(var pi=0;pi<Math.min(3,tm.playerData.length);pi++){
      var pd=tm.playerData[pi];
      h+='<div style="display:flex;align-items:center;gap:4px;padding:2px 0">';
      h+='<span style="font-size:11px;font-weight:600;color:var(--t2);min-width:80px;max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap" title="'+pd.name.replace(/"/g,"&quot;")+'">'+pd.name+'</span>';
      for(var bi=0;bi<Math.min(3,pd.brawlers.length);bi++){
        h+=bIconSm(pd.brawlers[bi].name);
      }
      h+='<span style="font-size:10px;color:var(--t3);margin-left:auto">'+pd.games+'g</span>';
      h+='</div>';
    }
    h+='</div>';
  }
  h+='<div class="tc-row">';
  h+='<div class="tc-cell"><div class="tc-cell-val" style="color:'+wrC+'">'+tm.wr+'%</div><div class="tc-cell-lbl">Win Rate</div></div>';
  h+='<div class="tc-cell"><div class="tc-cell-val">'+tm.w+'</div><div class="tc-cell-lbl">Wins</div></div>';
  h+='<div class="tc-cell"><div class="tc-cell-val">'+tm.l+'</div><div class="tc-cell-lbl">Losses</div></div>';
  h+='<div class="tc-cell"><div class="tc-cell-val">'+tm.t+'</div><div class="tc-cell-lbl">Total</div></div>';
  h+='</div></div>';
  return h;
}

function showTeam(name){
  var teams=genTeamData();var tm=null;
  for(var i=0;i<teams.length;i++){if(teams[i].name===name){tm=teams[i];break;}}
  if(!tm)return;
  var el=document.getElementById("pg-teams");
  var wrC=(+tm.wr)>=50?"var(--green)":"var(--red)";
  var h='<div class="fade">';
  h+='<div style="margin-bottom:16px"><button class="btn" onclick="go(\'teams\')" style="font-size:12px">← Back to Teams</button></div>';
  // Header with logo
  h+='<div class="card" style="display:flex;align-items:center;gap:20px;margin-bottom:16px">';
  var logoH=teamLogo(tm.name,64);
  if(logoH){h+=logoH;}
  else{h+='<div style="width:72px;height:72px;border-radius:14px;background:'+tm.color+';display:flex;align-items:center;justify-content:center;font-weight:900;font-size:24px;color:#fff;letter-spacing:1px;flex-shrink:0">'+tm.tag+'</div>';}
  h+='<div style="flex:1"><div style="font-size:28px;font-weight:900;text-transform:uppercase;letter-spacing:1px">'+tm.displayName+'</div>';
  h+='<div style="font-size:13px;color:var(--t2);margin-top:2px">'+tm.tag+(tm.region?' · '+tm.region:'')+(tm.tier?' · Tier '+tm.tier:'')+'</div>';
  if(tm.dbInfo&&tm.dbInfo.liquipedia){h+='<a href="'+tm.dbInfo.liquipedia+'" target="_blank" rel="noopener" style="font-size:11px;color:#3498db;text-decoration:none;margin-top:4px;display:inline-block">↗ Liquipedia</a>';}
  h+='</div></div>';

  // KPI cards
  h+='<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:16px">';
  h+='<div class="card" style="text-align:center"><div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase;margin-bottom:4px">WIN RATE</div><div style="font-size:28px;font-weight:900;font-family:var(--mono);color:'+wrC+'">'+tm.wr+'%</div></div>';
  h+='<div class="card" style="text-align:center"><div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase;margin-bottom:4px">TOTAL GAMES</div><div style="font-size:28px;font-weight:900;font-family:var(--mono)">'+tm.t+'</div></div>';
  h+='<div class="card" style="text-align:center"><div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase;margin-bottom:4px">WINS</div><div style="font-size:28px;font-weight:900;font-family:var(--mono);color:var(--green)">'+tm.w+'</div></div>';
  h+='<div class="card" style="text-align:center"><div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase;margin-bottom:4px">LOSSES</div><div style="font-size:28px;font-weight:900;font-family:var(--mono);color:var(--red)">'+tm.l+'</div></div>';
  h+='</div>';

  // Recent form
  h+='<div class="card" style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">';
  h+='<div><span style="font-weight:700;font-size:12px;color:var(--t3);text-transform:uppercase;margin-right:12px">RECENT FORM</span>';
  for(var fi=0;fi<tm.form.length;fi++){var fc=tm.form[fi]==="W"?"var(--green)":"var(--red)";h+='<span style="display:inline-flex;width:28px;height:28px;border-radius:50%;background:'+fc+';color:#fff;font-weight:800;font-size:11px;align-items:center;justify-content:center;margin-right:4px">'+tm.form[fi]+'</span>';}
  h+='</div><div style="padding:6px 14px;border-radius:8px;border:1px solid var(--border);font-size:12px;color:var(--t2)">▸ Last SET: '+tm.lastDate+'</div></div>';

  // ROSTER with brawler icons per player
  h+='<div class="card" style="margin-bottom:16px"><div class="card-t">⊡ ROSTER ('+tm.playerData.length+' players)</div>';
  h+='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:12px">';
  for(var pi=0;pi<tm.playerData.length;pi++){
    var pd=tm.playerData[pi];
    h+='<div style="padding:14px;border-radius:10px;background:var(--bg3);border:1px solid var(--border)">';
    h+='<div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">';
    h+='<div style="width:36px;height:36px;border-radius:50%;background:'+tm.color+'40;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:900;color:'+tm.color+'">'+pd.name.charAt(0).toUpperCase()+'</div>';
    h+='<div><div style="font-weight:800;font-size:14px">'+pd.name+'</div>';
    h+='<div style="font-size:11px;color:var(--t3)">'+pd.games+' games played</div></div></div>';
    // Brawler picks with icons
    if(pd.brawlers.length){
      h+='<div style="display:flex;flex-wrap:wrap;gap:4px">';
      for(var bi=0;bi<pd.brawlers.length;bi++){
        var br=pd.brawlers[bi];
        var bwrC=(+br.wr)>=50?"var(--green)":"var(--red)";
        h+='<div style="display:flex;align-items:center;gap:3px;padding:3px 6px;border-radius:6px;background:var(--bg2);border:1px solid var(--border);font-size:10px">';
        h+=bIconSm(br.name);
        h+='<span style="font-weight:700">'+br.p+'</span>';
        h+='<span style="color:'+bwrC+';font-weight:600">'+br.wr+'%</span>';
        h+='</div>';
      }
      h+='</div>';
    }
    h+='</div>';
  }
  h+='</div></div>';

  // Daily Activity Chart
  h+='<div class="card" style="margin-bottom:16px"><div class="card-t">↗ Daily Activity</div><div class="chart-box"><canvas id="chTeamAct"></canvas></div></div>';

  // Mode Stats + H2H side by side
  h+='<div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px">';
  h+='<div class="card"><div class="card-t">'+sIco("wrmode")+'BY GAME MODE</div>';
  for(var mi=0;mi<tm.modeStats.length;mi++){var ms=tm.modeStats[mi];
    h+='<div style="display:flex;align-items:center;gap:8px;padding:7px 0;border-bottom:1px solid var(--border)">';
    h+=mIco(ms.mode);
    h+='<span style="flex:1;font-weight:700;font-size:13px">'+ms.mode+'</span>';
    h+='<span class="'+wrCol(ms.wr)+'" style="font-family:var(--mono);font-weight:700;font-size:14px">'+ms.wr+'%</span>';
    h+='<span style="font-size:10px;color:var(--t3);min-width:60px;text-align:right">'+ms.w+'W - '+ms.l+'L</span></div>';
  }
  h+='</div>';
  h+='<div class="card"><div class="card-t">'+sIco("swords")+'HEAD TO HEAD</div>';
  for(var hi=0;hi<Math.min(6,tm.h2h.length);hi++){var hh=tm.h2h[hi];
    var hLogo=teamLogo(hh.vs,24);var hdb={tag:hh.vs.replace(/[^A-Z0-9]/gi,"").slice(0,3).toUpperCase(),color:bc(hh.vs)};
    var vsInfo=TEAMS_DB[hh.vs];var vsName=vsInfo?vsInfo.org:hh.vs;
    h+='<div style="display:flex;align-items:center;gap:8px;padding:7px 0;border-bottom:1px solid var(--border)">';
    if(hLogo){h+=hLogo;}
    else{h+='<div style="width:24px;height:24px;border-radius:5px;background:'+hdb.color+';display:flex;align-items:center;justify-content:center;font-size:8px;font-weight:800;color:#fff">'+hdb.tag+'</div>';}
    h+='<span style="flex:1;font-weight:700;font-size:13px">'+vsName+'</span>';
    h+='<span class="'+wrCol(hh.wr)+'" style="font-family:var(--mono);font-weight:700;font-size:14px">'+hh.wr+'%</span>';
    h+='<span style="font-size:10px;color:var(--t3);min-width:60px;text-align:right">'+hh.w+'W - '+hh.l+'L</span></div>';
  }
  h+='</div></div>';

  // Map Performance + Top Brawlers
  h+='<div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px">';
  h+='<div class="card"><div class="card-t">'+sIco("map")+'MAP PERFORMANCE</div>';
  for(var mpi=0;mpi<Math.min(6,tm.mapStats.length);mpi++){var mp=tm.mapStats[mpi];
    h+='<div style="display:flex;align-items:center;gap:8px;padding:7px 0;border-bottom:1px solid var(--border)">';
    h+=mIco(findMapMode(mp.map));
    h+='<span style="flex:1;font-weight:700;font-size:13px">'+mp.map+'</span>';
    h+='<span class="'+wrCol(mp.wr)+'" style="font-family:var(--mono);font-weight:700;font-size:14px">'+mp.wr+'%</span>';
    h+='<span style="font-size:10px;color:var(--t3);min-width:60px;text-align:right">'+mp.w+'W - '+mp.l+'L</span></div>';
  }
  h+='</div>';
  h+='<div class="card"><div class="card-t">'+sIco("crown")+'TOP BRAWLERS</div>';
  for(var tbi=0;tbi<Math.min(7,tm.topB.length);tbi++){var tb=tm.topB[tbi];
    h+='<div style="display:flex;align-items:center;gap:8px;padding:6px 0;border-bottom:1px solid var(--border)">';
    h+=bIconSm(tb.name);
    h+='<span style="flex:1;font-weight:700;font-size:13px">'+tb.name+'</span>';
    h+='<span class="'+wrCol(tb.wr)+'" style="font-family:var(--mono);font-weight:700;font-size:14px">'+tb.wr+'%</span>';
    h+='<span style="font-size:10px;color:var(--t3)">'+tb.p+' games</span></div>';
  }
  h+='</div></div>';

  // Scrim Sessions
  h+='<div class="card"><div class="card-t">⏱ SCRIM SESSIONS</div>';
  for(var si=0;si<tm.scrims.length;si++){var sc=tm.scrims[si];
    var scLogo=teamLogo(sc.vs,28);var sdb={tag:sc.vs.replace(/[^A-Z0-9]/gi,"").slice(0,3).toUpperCase(),color:bc(sc.vs)};
    var scInfo=TEAMS_DB[sc.vs];var scName=scInfo?scInfo.org:sc.vs;
    var sWin=sc.w>sc.l;var sTie=sc.w===sc.l;
    h+='<div style="display:flex;align-items:center;padding:12px;margin-bottom:6px;border-radius:8px;background:var(--bg3);border:1px solid var(--border)">';
    h+='<span style="flex:0 0 120px;font-size:12px;color:var(--t2)">'+sc.date+'</span>';
    h+='<div style="flex:1;display:flex;align-items:center;justify-content:center;gap:10px">';
    var tmLogo=teamLogo(tm.name,28);
    if(tmLogo){h+=tmLogo;}else{h+='<div style="width:28px;height:28px;border-radius:6px;background:'+tm.color+';display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:800;color:#fff">'+tm.tag+'</div>';}
    h+='<span style="font-weight:900;font-family:var(--mono);font-size:18px;color:'+(sWin?"var(--green)":sTie?"var(--yellow)":"var(--red)")+'">'+sc.w+' - '+sc.l+'</span>';
    if(scLogo){h+=scLogo;}else{h+='<div style="width:28px;height:28px;border-radius:6px;background:'+sdb.color+';display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:800;color:#fff">'+sdb.tag+'</div>';}
    h+='<span style="font-size:12px;color:var(--t2);min-width:100px">'+scName+'</span>';
    h+='</div></div>';
  }
  h+='</div>';

  h+='</div>';
  el.innerHTML=h;

  setTimeout(function(){
    var labels=[];var data=[];
    for(var d=0;d<tm.days.length;d++){labels.push(tm.days[d].d);data.push(tm.days[d].t);}
    mChart("chTeamAct","line",{labels:labels,datasets:[{data:data,borderColor:"#f1c40f",backgroundColor:"rgba(241,196,15,.08)",fill:true,tension:.3,pointRadius:3,pointBackgroundColor:"#f1c40f",borderWidth:2}]},{scales:{x:{ticks:{color:"#666",maxRotation:45},grid:{display:false}},y:{ticks:{color:"#666"},grid:{color:"rgba(42,42,42,.25)"}}}});
  },50);
}

function findMapMode(mapName){for(var i=0;i<matchData.length;i++){if(matchData[i].map===mapName)return matchData[i].mode;}return"";}

function filterTeams(region){
  document.querySelectorAll("#regionPills .pill").forEach(function(p){
    p.classList.remove("white");
    if((region==="ALL"&&p.textContent.indexOf("ALL")>=0)||p.textContent===region)p.classList.add("white");
  });
  document.querySelectorAll(".tc[data-team]").forEach(function(c){c.style.display=(region==="ALL"||c.dataset.region===region)?"":"none";});
}
function filterTeamSearch(){var v=document.getElementById("teamSearch").value.toLowerCase();document.querySelectorAll(".tc[data-team]").forEach(function(e){e.style.display=e.dataset.team.toLowerCase().indexOf(v)>=0?"":"none";});}

// ═══ H2H HEATMAP ═══
function pgH2H(el,s){
  var top=s.brawlers.filter(function(b){return b.p>=5;}).slice(0,12);
  var names=top.map(function(b){return b.name;});
  var h='<div class="fade">';
  h+='<div style="display:flex;align-items:center;gap:10px;margin-bottom:20px"><span style="font-size:24px;font-weight:900">HEAD-TO-HEAD HEATMAP (SET)</span></div>';
  h+=buildModePills();
  h+='<div class="hm-wrap"><table class="hm"><thead><tr><th class="rh" style="min-width:140px">VS</th>';
  for(var i=0;i<names.length;i++){
    h+='<th>'+bIconSm(names[i])+'<div style="font-size:8px">'+names[i].slice(0,5).toUpperCase()+'</div></th>';
  }
  h+='</tr></thead><tbody>';
  for(var a=0;a<names.length;a++){
    h+='<tr><td class="rh"><div class="rh-inner">'+bIconSm(names[a])+names[a]+'</div></td>';
    for(var b=0;b<names.length;b++){
      if(a===b){h+='<td style="background:#1a1a1a"><div class="hm-cell"><span style="color:var(--t3)">—</span></div></td>';continue;}
      var k=names[a]+"_vs_"+names[b];
      var m=s.counters[k];
      if(m&&m.t>=2){
        var wr=((m.w/m.t)*100).toFixed(0);
        var wins=m.w,losses=m.t-m.w;
        h+='<td style="'+wrCellColor(wr)+'"><div class="hm-cell"><span class="hm-wr">'+wr+'%</span><span class="hm-wl">'+wins+'W-'+losses+'L</span></div></td>';
      }else{
        h+='<td style="background:#2a1515"><div class="hm-cell"><span class="hm-wr" style="color:var(--t3)">0%</span><span class="hm-wl" style="color:var(--t4)">0W-0L</span></div></td>';
      }
    }
    h+='</tr>';
  }
  h+='</tbody></table></div></div>';
  el.innerHTML=h;
}

// ═══ MATCH LOG ═══
function pgTracker(el,s,data){
  var wr=s.total?((s.wins/s.total)*100).toFixed(1):"0";
  var bMode=(s.modes||[]).slice().sort(function(a,b){return(+b.wr)-(+a.wr);})[0];
  var mPick=(s.brawlers||[]).slice().sort(function(a,b){return b.p-a.p;})[0];
  var cur=0,best=0;
  var rev=data.slice().reverse();
  for(var i=0;i<rev.length;i++){if(rev[i].result==="victory"){cur++;if(cur>best)best=cur;}else cur=0;}
  var recent=rev.slice(0,50);
  var h='<div class="fade">'+buildModePills();
  h+='<div class="kpi-row">';
  h+='<div class="kpi"><div class="kpi-label">Overall WR</div><div class="kpi-val" style="color:var(--green)">'+wr+'%</div></div>';
  h+='<div class="kpi"><div class="kpi-label">Best Mode</div><div style="font-size:18px;font-weight:800;color:var(--green)">'+(bMode?bMode.name:"-")+'</div><div class="kpi-sub">'+(bMode?bMode.wr:"0")+'%</div></div>';
  h+='<div class="kpi"><div class="kpi-label">Most Picked</div><div style="font-size:18px;font-weight:800;color:var(--yellow)">'+(mPick?mPick.name:"-")+'</div><div class="kpi-sub">'+(mPick?mPick.p:"0")+'g</div></div>';
  h+='<div class="kpi"><div class="kpi-label">Best Streak</div><div class="kpi-val" style="color:var(--green)">'+best+'</div><div class="kpi-sub">Current: '+cur+'</div></div>';
  h+='</div>';
  h+='<div class="card"><div class="card-t">Match Log ('+recent.length+')</div><div style="max-height:450px;overflow-y:auto"><table><thead><tr><th>Date</th><th>Mode</th><th>Map</th><th>Team</th><th>Your Comp</th><th>vs</th><th>Enemy Comp</th><th>Score</th><th>Result</th></tr></thead><tbody>';
  for(var j=0;j<recent.length;j++){var r=recent[j];
    var t1Short=r.team1_name?(r.team1_name.length>12?r.team1_name.slice(0,12)+"…":r.team1_name):"";
    var t2Short=r.team2_name?(r.team2_name.length>12?r.team2_name.slice(0,12)+"…":r.team2_name):"";
    h+='<tr><td style="font-family:var(--mono);font-size:11px">'+r.date+'</td>';
    h+='<td style="font-size:11px">'+mIco(r.mode)+'</td>';
    h+='<td style="font-size:11px">'+r.map+'</td>';
    h+='<td style="font-size:10px;font-weight:600;color:var(--t2)">'+t1Short+'</td>';
    h+='<td style="font-size:11px">'+bIconSm(r.brawler1)+bIconSm(r.brawler2)+bIconSm(r.brawler3)+'</td>';
    h+='<td style="font-size:10px;color:var(--t3)">vs</td>';
    h+='<td style="font-size:11px">'+bIconSm(r.enemy1)+bIconSm(r.enemy2)+bIconSm(r.enemy3)+'</td>';
    h+='<td style="font-family:var(--mono);font-size:11px;font-weight:700">'+(r.set_score||"-")+'</td>';
    h+='<td>'+resultBadge(r.result)+'</td></tr>';}
  h+='</tbody></table></div></div></div>';
  el.innerHTML=h;
}

// ═══ DRAFT HELP (COMBINED: COUNTER PICK + DRAFT SIM) ═══
var _draftTab="counter"; // "counter" or "sim"
function pgDraft(el,s){
  var allB=s.brawlers.map(function(b){return b.name;}).sort(bSort);
  if(!draftEnemy)draftEnemy=allB[~~(Math.random()*allB.length)];
  draft.allBrawlers=allB;
  var h='<div class="fade">';

  // Tab bar
  h+='<div style="display:flex;gap:0;margin-bottom:20px;border-radius:12px;overflow:hidden;border:1px solid var(--border);background:var(--bg2)">';
  h+='<div onclick="_draftTab=\'counter\';go(\'draft\')" style="flex:1;padding:14px;text-align:center;cursor:pointer;font-weight:800;font-size:13px;letter-spacing:.5px;transition:all .2s;'+(_draftTab==="counter"?"background:var(--green);color:#000":"color:var(--t2)")+'">';
  h+=''+sIco("scope")+'COUNTER PICK</div>';
  h+='<div onclick="_draftTab=\'sim\';go(\'draft\')" style="flex:1;padding:14px;text-align:center;cursor:pointer;font-weight:800;font-size:13px;letter-spacing:.5px;transition:all .2s;'+(_draftTab==="sim"?"background:var(--green);color:#000":"color:var(--t2)")+'">';
  h+=''+sIco("swords")+'DRAFT SIMULATOR</div>';
  h+='</div>';

  if(_draftTab==="counter") h+=renderCounterPick(s,allB);
  else h+=renderDraftSim(s);
  h+='</div>';
  el.innerHTML=h;
  // If sim tab and draft started, re-render
  if(_draftTab==="sim"&&draft.started){renderDraft(el,s);}
}

// ── COUNTER PICK TAB ──
function renderCounterPick(s,allB){
  var avg=draftHistory.length?Math.round(draftHistory.reduce(function(a,h2){return a+h2.score;},0)/draftHistory.length):0;
  var avgCol=avg>=70?"var(--green)":avg>=50?"var(--yellow)":"var(--red)";
  var h='';

  // Top: enemy card + score card
  h+='<div style="display:grid;grid-template-columns:1fr 200px;gap:16px;margin-bottom:16px">';

  // Left: Enemy display
  h+='<div class="card" style="padding:20px">';
  h+='<div style="display:flex;align-items:center;gap:16px;margin-bottom:16px">';
  h+='<div style="position:relative">'+bIcon(draftEnemy,64);
  h+='</div>';
  h+='<div><div style="font-size:10px;color:var(--red);font-weight:700;text-transform:uppercase;letter-spacing:1px;margin-bottom:2px">ENEMY PICK</div>';
  h+='<div style="font-size:24px;font-weight:900;line-height:1.1">'+draftEnemy+'</div>';
  if(BCLS[draftEnemy])h+='<div style="font-size:11px;color:var(--t3);margin-top:4px">'+clsIco(BCLS[draftEnemy],14)+' '+BCLS[draftEnemy]+'</div>';
  h+='</div></div>';

  // Suggested counters
  h+='<div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">TOP COUNTERS</div>';
  h+='<div style="display:flex;gap:8px;flex-wrap:wrap">';
  var counters=[];
  for(var ci=0;ci<allB.length;ci++){
    var cb=allB[ci];if(cb===draftEnemy)continue;
    var ck=cb+"_vs_"+draftEnemy,cm=s.counters[ck];
    if(cm&&cm.t>=3){counters.push({name:cb,wr:((cm.w/cm.t)*100),t:cm.t});}
  }
  counters.sort(function(a,b){return b.wr-a.wr;});
  for(var ci2=0;ci2<Math.min(5,counters.length);ci2++){
    var ct=counters[ci2];
    h+='<div onclick="selD(\''+ct.name.replace(/'/g,"\\'")+'\');subD()" style="cursor:pointer;display:flex;align-items:center;gap:6px;padding:6px 10px;border-radius:8px;background:var(--bg3);border:1px solid var(--border);transition:all .15s" onmouseover="this.style.borderColor=\'var(--green)\'" onmouseout="this.style.borderColor=\'var(--border)\'">';
    h+=bIconSm(ct.name);
    h+='<div><div style="font-size:12px;font-weight:700">'+ct.name+'</div><div style="font-size:10px;font-family:var(--mono);color:var(--green);font-weight:700">'+ct.wr.toFixed(0)+'%</div></div></div>';
  }
  if(!counters.length)h+='<div style="font-size:12px;color:var(--t3)">No data</div>';
  h+='</div></div>';

  // Right: Score card
  h+='<div class="card" style="text-align:center;padding:20px;display:flex;flex-direction:column;align-items:center;justify-content:center">';
  h+='<div style="font-size:10px;color:var(--t3);text-transform:uppercase;letter-spacing:1px;font-weight:700;margin-bottom:6px">AVG SCORE</div>';
  h+='<div style="font-size:48px;font-weight:900;font-family:var(--mono);color:'+avgCol+';line-height:1">'+avg+'</div>';
  h+='<div style="font-size:11px;color:var(--t3);margin-top:4px">'+draftHistory.length+' rounds</div>';
  h+='<div style="display:flex;gap:8px;margin-top:16px">';
  h+='<button class="btn btn-g" onclick="nxtD()" style="font-size:12px;padding:8px 16px">Next Round</button>';
  if(draftHistory.length)h+='<button class="btn" onclick="draftHistory=[];go(\'draft\')" style="font-size:12px;padding:8px 16px">↺ Reset</button>';
  h+='</div></div></div>';

  // Your pick grid
  h+='<div class="card" style="padding:20px">';
  h+='<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px">';
  h+='<div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase;letter-spacing:1px">YOUR PICK</div>';
  h+='<input class="search-box" placeholder="⌕ Search..." oninput="filterCPGrid(this.value)" style="max-width:200px;padding:6px 12px;font-size:12px;margin:0">';
  h+='</div>';

  // Class filter pills
  h+='<div style="display:flex;gap:6px;flex-wrap:wrap;margin-bottom:12px" id="cpClassPills">';
  h+='<div class="pill white" onclick="setCPCF(\'\')">ALL</div>';
  for(var ki=0;ki<CLASSES.length;ki++){var kc=CLASSES[ki];h+='<div class="pill" onclick="setCPCF(\''+kc+'\')">'+clsIco(kc,14)+' '+kc.toUpperCase()+'</div>';}
  h+='</div>';

  h+='<div class="b-grid" id="cpGrid" style="grid-template-columns:repeat(auto-fill,minmax(56px,1fr))">';
  for(var i=0;i<allB.length;i++){
    var b=allB[i];if(b===draftEnemy)continue;
    h+='<div class="b-icon" style="background:'+bc(b)+'" onclick="selD(\''+b.replace(/'/g,"\\'")+'\');subD()" data-b="'+b+'" data-cls="'+(BCLS[b]||"")+'">';
    if(bImgSrc(b))h+='<img src="'+bImgSrc(b)+'" crossorigin="anonymous" loading="lazy" style="width:100%;height:100%;object-fit:cover;border-radius:8px;position:absolute;top:0;left:0" onerror="this.onerror=null;this.src=\''+bImgSrc2(b)+'\'">';
    h+='<div class="b-icon-name">'+b+'</div></div>';
  }
  h+='</div></div>';

  // History
  if(draftHistory.length){
    h+='<div class="card" style="padding:20px"><div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px">HISTORY</div>';
    h+='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:8px">';
    for(var j=draftHistory.length-1;j>=Math.max(0,draftHistory.length-12);j--){
      var dh=draftHistory[j];
      var sc=dh.score>=70?"var(--green)":dh.score>=50?"var(--yellow)":"var(--red)";
      h+='<div style="display:flex;align-items:center;justify-content:space-between;padding:8px 12px;border-radius:8px;background:var(--bg3);border:1px solid var(--border)">';
      h+='<div style="display:flex;align-items:center;gap:6px">'+bIconSm(dh.pick)+'<span style="font-size:12px;font-weight:600">'+dh.pick+'</span><span style="font-size:10px;color:var(--t3)">vs</span>'+bIconSm(dh.enemy)+'</div>';
      h+='<span style="font-family:var(--mono);font-weight:800;font-size:13px;color:'+sc+'">'+dh.score+'</span></div>';
    }
    h+='</div></div>';
  }
  return h;
}

var _cpCF="";
function selD(n){draftPick=n;}
function subD(){
  if(!draftPick)return;
  var s=compute(getFD()),k=draftPick+"_vs_"+draftEnemy,m=s.counters[k];
  var sc=40;if(m&&m.t>=2)sc=Math.min(100,Math.round((m.w/m.t)*120));
  draftHistory.push({enemy:draftEnemy,pick:draftPick,score:sc});
  nxtD();
}
function nxtD(){var s=compute(getFD());var names=s.brawlers.map(function(b){return b.name;});draftEnemy=names[~~(Math.random()*names.length)];draftPick="";go("draft");}
function setCPCF(c){_cpCF=c;var pills=document.querySelectorAll("#cpClassPills .pill");pills.forEach(function(p){p.classList.remove("white","green");});if(!c)pills[0].classList.add("white");else pills.forEach(function(p){if(p.textContent.toUpperCase().indexOf(c.toUpperCase())>=0)p.classList.add("green");});filterCPGrid("");}
function filterCPGrid(v){v=(v||"").toLowerCase();document.querySelectorAll("#cpGrid .b-icon").forEach(function(e){var nm=e.dataset.b.toLowerCase().indexOf(v)>=0;var cm=!_cpCF||e.dataset.cls===_cpCF;e.style.display=(nm&&cm)?"":"none";});}

// ── DRAFT SIM TAB ──
function renderDraftSim(s){
  if(!draft.started){
    // Step 1: choose first pick, OR step 1b: choose map
    if(!draft.fp){
      var h='<div style="max-width:560px;margin:0 auto">';
      h+='<div class="card" style="padding:32px;text-align:center">';
      h+='<div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase;letter-spacing:2px;margin-bottom:16px">STEP 1 — WHO HAS FIRST PICK?</div>';
      h+='<div style="display:flex;gap:16px;justify-content:center">';
      h+='<div onclick="draft.fp=1;go(\'draft\')" style="cursor:pointer;flex:1;max-width:220px;padding:28px 24px;border-radius:14px;border:2px solid rgba(46,204,113,.3);background:var(--bg3);transition:all .2s" onmouseover="this.style.borderColor=\'var(--green)\';this.style.transform=\'translateY(-3px)\'" onmouseout="this.style.borderColor=\'rgba(46,204,113,.3)\';this.style.transform=\'\'">';
      h+='<div style="width:48px;height:48px;border-radius:50%;background:rgba(46,204,113,.15);display:flex;align-items:center;justify-content:center;margin:0 auto 12px;border:2px solid var(--green)"><span style="font-size:20px;color:var(--green);font-weight:900">1</span></div>';
      h+='<div style="font-weight:800;font-size:15px;color:var(--green)">YOUR TEAM</div>';
      h+='<div style="font-size:11px;color:var(--t3);margin-top:4px">First pick</div></div>';
      h+='<div onclick="draft.fp=2;go(\'draft\')" style="cursor:pointer;flex:1;max-width:220px;padding:28px 24px;border-radius:14px;border:2px solid rgba(231,76,60,.3);background:var(--bg3);transition:all .2s" onmouseover="this.style.borderColor=\'var(--red)\';this.style.transform=\'translateY(-3px)\'" onmouseout="this.style.borderColor=\'rgba(231,76,60,.3)\';this.style.transform=\'\'">';
      h+='<div style="width:48px;height:48px;border-radius:50%;background:rgba(231,76,60,.15);display:flex;align-items:center;justify-content:center;margin:0 auto 12px;border:2px solid var(--red)"><span style="font-size:20px;color:var(--red);font-weight:900">1</span></div>';
      h+='<div style="font-weight:800;font-size:15px;color:var(--red)">ENEMY TEAM</div>';
      h+='<div style="font-size:11px;color:var(--t3);margin-top:4px">First pick</div></div>';
      h+='</div></div></div>';
      return h;
    }
    // Step 2: choose mode + map
    var h='<div style="max-width:640px;margin:0 auto">';
    h+='<div class="card" style="padding:24px">';
    h+='<div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase;letter-spacing:2px;margin-bottom:4px;text-align:center">STEP 2 — SELECT MAP</div>';
    h+='<div style="font-size:11px;color:var(--t3);text-align:center;margin-bottom:16px">First pick: <span style="color:'+(draft.fp===1?"var(--green)":"var(--red)")+';font-weight:700">'+(draft.fp===1?"YOUR TEAM":"ENEMY")+'</span></div>';
    // Mode pills from RANKED_MAPS
    var modes=Object.keys(RANKED_MAPS);
    h+='<div style="display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-bottom:16px">';
    for(var mi=0;mi<modes.length;mi++){
      var md=modes[mi];
      var isSel=draft.selMode===md;
      h+='<div onclick="draft.selMode=\''+md+'\';draft.selMap=\'\';go(\'draft\')" style="cursor:pointer;padding:8px 14px;border-radius:8px;border:2px solid '+(isSel?MC[md]:"var(--border)")+';background:'+(isSel?MC[md]+"22":"var(--bg3)")+';display:flex;align-items:center;gap:6px;transition:all .15s">';
      h+=mIco(md)+'<span style="font-size:12px;font-weight:700;color:'+(isSel?MC[md]:"var(--t2)")+'">'+md.toUpperCase()+'</span></div>';
    }
    h+='</div>';
    // Map grid for selected mode from RANKED_MAPS
    if(draft.selMode&&RANKED_MAPS[draft.selMode]){
      var rmaps=RANKED_MAPS[draft.selMode];
      h+='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:10px">';
      for(var mpi=0;mpi<rmaps.length;mpi++){
        var rm=rmaps[mpi];
        var isMSel=draft.selMap===rm.name;
        var selBd=isMSel?"var(--green)":"var(--border)";
        var selBg=isMSel?"rgba(46,204,113,.1)":"var(--bg3)";
        h+='<div onclick="draft.selMap=\''+rm.name.replace(/'/g,"\\'")+'\';go(\'draft\')" style="cursor:pointer;border-radius:10px;border:2px solid '+selBd+';background:'+selBg+';transition:all .15s;overflow:hidden" onmouseover="this.style.borderColor=\'var(--green)\';this.style.transform=\'translateY(-2px)\'" onmouseout="this.style.borderColor=\''+selBd+'\';this.style.transform=\'\'">';
        h+='<div style="position:relative;width:100%;padding-top:130%;background:var(--bg2);overflow:hidden">';
        h+='<img src="https://cdn.brawlify.com/maps/regular/'+rm.id+'.png" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover" crossorigin="anonymous" loading="lazy" onerror="this.style.display=\'none\'">';
        if(isMSel)h+='<div style="position:absolute;top:6px;right:6px;width:22px;height:22px;border-radius:50%;background:var(--green);display:flex;align-items:center;justify-content:center"><span style="color:#000;font-size:14px;font-weight:900">✓</span></div>';
        h+='</div>';
        h+='<div style="padding:8px 10px">';
        h+='<div style="font-size:12px;font-weight:700;color:var(--t1);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">'+rm.name+'</div>';
        h+='<div style="font-size:10px;color:'+(MC[draft.selMode]||"var(--t3)")+';font-weight:600;margin-top:2px">'+draft.selMode+'</div>';
        h+='</div></div>';
      }
      h+='</div>';
    }else{
      h+='<div style="text-align:center;color:var(--t3);font-size:12px;padding:16px">Select a game mode above</div>';
    }
    // Start button
    if(draft.selMode&&draft.selMap){
      h+='<div style="text-align:center;margin-top:20px"><button class="btn btn-g" style="padding:12px 32px;font-size:14px;font-weight:800" onclick="startDraft(draft.fp)">'+sIco("swords")+' START DRAFT</button></div>';
    }
    h+='<div style="text-align:center;margin-top:8px"><button class="btn" style="font-size:11px;padding:6px 16px" onclick="draft.fp=0;draft.selMode=\'\';draft.selMap=\'\';go(\'draft\')">← Back</button></div>';
    h+='</div></div>';
    return h;
  }
  return '';
}

// ═══ DRAFT SIMULATOR (sub-tab of Draft Help) ═══
var draft={fp:0,step:0,bans1:[],bans2:[],picks1:[],picks2:[],allBrawlers:[],started:false,selMode:"",selMap:"",botTeam:0};
// BS Ranked: BAN1, BAN2, PICK(fp 1), PICK(sp 2), PICK(sp 2), PICK(fp 1), PICK(fp 1), PICK(sp 2)
var DRAFT_SEQ=[
  {type:"ban",team:1,label:"BAN"},
  {type:"ban",team:2,label:"BAN"},
  {type:"pick",team:1,label:"PICK 1"},
  {type:"pick",team:2,label:"PICK 1"},
  {type:"pick",team:2,label:"PICK 2"},
  {type:"pick",team:1,label:"PICK 2"},
  {type:"pick",team:1,label:"PICK 3"},
  {type:"pick",team:2,label:"PICK 3"}
];

function draftTeam(stepIdx){
  if(!draft.fp)return 1;
  var raw=DRAFT_SEQ[stepIdx].team;
  return draft.fp===1?raw:(raw===1?2:1);
}

function pgAnalyze(el,s){
  _draftTab="sim";
  draft.allBrawlers=s.brawlers.map(function(b){return b.name;}).sort(bSort);
  pgDraft(el,s);
}

function startDraft(fp){
  draft.fp=fp;draft.step=0;draft.bans1=[];draft.bans2=[];draft.picks1=[];draft.picks2=[];draft.started=true;
  draft.botTeam=2;
  go("draft");
  // If bot goes first, trigger auto-pick
  setTimeout(function(){triggerBotIfNeeded();},300);
}

// ── BOT AI ──
function botScore(bName,s){
  var score=50; // base
  // 1. Map performance (most important)
  var bd=null;
  for(var i=0;i<s.brawlers.length;i++){if(s.brawlers[i].name===bName){bd=s.brawlers[i];break;}}
  if(bd){
    // Map-specific WR
    if(draft.selMap&&bd.maps&&bd.maps[draft.selMap]&&bd.maps[draft.selMap].n>=2){
      score=(bd.maps[draft.selMap].w/bd.maps[draft.selMap].n)*100;
    }
    // Mode WR fallback
    else if(draft.selMode&&bd.modes&&bd.modes[draft.selMode]&&bd.modes[draft.selMode].n>=2){
      score=(bd.modes[draft.selMode].w/bd.modes[draft.selMode].n)*100;
    }
    // General WR
    else{score=+bd.wr||50;}
  }
  // 2. Counter bonus: score vs user's already-picked brawlers
  var userPicks=draft.picks1;
  for(var j=0;j<userPicks.length;j++){
    var ck=bName+"_vs_"+userPicks[j];
    var cm=s.counters[ck];
    if(cm&&cm.t>=2){
      var cwr=(cm.w/cm.t)*100;
      score+=(cwr-50)*0.3; // bonus if good matchup
    }
  }
  // 3. Synergy with bot's own picks
  var botPicks=draft.picks2;
  for(var k=0;k<botPicks.length;k++){
    var sk1=bName+"_with_"+botPicks[k];
    var sk2=botPicks[k]+"_with_"+bName;
    var sm=s.synergies[sk1]||s.synergies[sk2];
    if(sm&&sm.t>=2){
      var swr=(sm.w/sm.t)*100;
      score+=(swr-50)*0.2;
    }
  }
  // 4. Small random factor for variety
  score+=Math.random()*6-3;
  return score;
}

function botBanScore(bName,s){
  // For banning: score how dangerous this brawler is for the USER
  var score=0;
  var bd=null;
  for(var i=0;i<s.brawlers.length;i++){if(s.brawlers[i].name===bName){bd=s.brawlers[i];break;}}
  if(bd){
    if(draft.selMap&&bd.maps&&bd.maps[draft.selMap]&&bd.maps[draft.selMap].n>=2){
      score=(bd.maps[draft.selMap].w/bd.maps[draft.selMap].n)*100;
    }else if(draft.selMode&&bd.modes&&bd.modes[draft.selMode]&&bd.modes[draft.selMode].n>=2){
      score=(bd.modes[draft.selMode].w/bd.modes[draft.selMode].n)*100;
    }else{score=+bd.wr||50;}
  }
  // Higher pick rate = more ban-worthy
  if(bd)score+=Math.min(10,(+bd.pr||0)*2);
  score+=Math.random()*4-2;
  return score;
}

function botAutoPick(s){
  if(draft.step>=8)return;
  var seq=DRAFT_SEQ[draft.step];
  var team=draftTeam(draft.step);
  if(team===1)return; // not bot's turn
  var used=draft.bans1.concat(draft.bans2,draft.picks1,draft.picks2);
  var available=draft.allBrawlers.filter(function(b){return used.indexOf(b)<0;});
  if(!available.length)return;

  var best=null,bestScore=-999;
  for(var i=0;i<available.length;i++){
    var sc=seq.type==="ban"?botBanScore(available[i],s):botScore(available[i],s);
    if(sc>bestScore){bestScore=sc;best=available[i];}
  }
  if(!best)best=available[0];

  // Apply pick
  if(seq.type==="ban"){draft.bans2.push(best);}
  else{draft.picks2.push(best);}
  draft.step++;

  // Chain: if next step is also bot's turn, auto-pick again
  if(draft.step<8){
    var nextTeam=draftTeam(draft.step);
    if(nextTeam===2){
      setTimeout(function(){
        var s2=compute(getFD());
        botAutoPick(s2);
        renderDraft(document.getElementById("pg-draft"),s2);
      },600);
    }
  }
}

function afterUserPick(){
  // After user picks, check if bot needs to go
  if(draft.step<8){
    var nextTeam=draftTeam(draft.step);
    if(nextTeam===2){
      setTimeout(function(){
        var s2=compute(getFD());
        botAutoPick(s2);
        renderDraft(document.getElementById("pg-draft"),s2);
      },500);
    }
  }
}

function renderDraft(el,s){
  var step=draft.step;var done=step>=8;
  var curSeq=step<8?DRAFT_SEQ[step]:null;
  var curTeam=step<8?draftTeam(step):0;
  var curType=curSeq?curSeq.type:"";
  var fpLabel=draft.fp===1?"YOU":"ENEMY";

  var advPct=calcDraftAdv(s);

  var h='<div class="fade">';

  // Tab bar (same as parent)
  h+='<div style="display:flex;gap:0;margin-bottom:20px;border-radius:12px;overflow:hidden;border:1px solid var(--border);background:var(--bg2)">';
  h+='<div onclick="_draftTab=\'counter\';draft.started=false;go(\'draft\')" style="flex:1;padding:14px;text-align:center;cursor:pointer;font-weight:800;font-size:13px;letter-spacing:.5px;color:var(--t2)">';
  h+=''+sIco("scope")+'COUNTER PICK</div>';
  h+='<div style="flex:1;padding:14px;text-align:center;font-weight:800;font-size:13px;letter-spacing:.5px;background:var(--green);color:#000">';
  h+=''+sIco("swords")+'DRAFT SIMULATOR</div>';
  h+='</div>';

  // Map/mode header
  if(draft.selMode||draft.selMap){
    var _mid=draft.selMap?getMapId(draft.selMap):0;
    h+='<div style="display:flex;align-items:center;gap:10px;margin-bottom:12px;padding:8px 14px;border-radius:10px;background:var(--bg2);border:1px solid '+(MC[draft.selMode]||"var(--border)")+'40">';
    if(_mid){h+='<img src="https://cdn.brawlify.com/maps/regular/'+_mid+'.png" style="width:36px;height:48px;border-radius:5px;object-fit:cover;border:1px solid var(--border)" crossorigin="anonymous" loading="lazy" onerror="this.style.display=\'none\'">';}
    h+='<div>';
    if(draft.selMode){h+='<div style="display:flex;align-items:center;gap:5px">'+mIco(draft.selMode)+'<span style="font-size:12px;font-weight:700;color:'+(MC[draft.selMode]||"var(--t1)")+'">'+draft.selMode.toUpperCase()+'</span></div>';}
    if(draft.selMap){h+='<div style="font-size:13px;font-weight:600;color:var(--t1);margin-top:1px">'+draft.selMap+'</div>';}
    h+='</div>';
    h+='<span style="flex:1"></span><span style="font-size:10px;color:var(--t3);padding:4px 10px;border-radius:6px;background:var(--bg3)">1st: <b style="color:'+(draft.fp===1?"var(--green)":"var(--red)")+'">'+(draft.fp===1?"YOU":"ENEMY")+'</b></span>';
    h+='</div>';
  }

  // Step progress
  h+='<div style="display:flex;gap:4px;margin-bottom:16px">';
  for(var si=0;si<8;si++){
    var sSeq=DRAFT_SEQ[si];var sTeam=draftTeam(si);
    var sColor=si<step?(sTeam===1?"var(--green)":"var(--red)"):(si===step?"var(--t1)":"var(--bg4)");
    var sBg=si<step?(sTeam===1?"rgba(46,204,113,.2)":"rgba(231,76,60,.2)"):(si===step?"var(--bg3)":"var(--bg2)");
    h+='<div style="flex:1;height:6px;border-radius:3px;background:'+sBg+';position:relative">';
    if(si<=step)h+='<div style="width:100%;height:100%;border-radius:3px;background:'+sColor+'"></div>';
    h+='</div>';
  }
  h+='</div>';

  // Draft board - 3 columns
  h+='<div style="display:grid;grid-template-columns:1fr 50px 1fr;gap:12px;margin-bottom:16px">';

  // ── YOUR TEAM ──
  h+='<div class="card" style="padding:16px;border-color:rgba(46,204,113,.15)">';
  h+='<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px"><span style="font-weight:800;color:var(--green);font-size:12px;letter-spacing:.5px">YOUR TEAM</span>';
  if(draft.fp===1)h+='<span style="font-size:9px;padding:2px 6px;border-radius:4px;background:rgba(46,204,113,.15);color:var(--green);font-weight:700">1ST PICK</span>';
  h+='</div>';
  // Ban slot
  h+='<div style="margin-bottom:12px">';
  if(draft.bans1[0]){
    h+='<div style="display:flex;align-items:center;gap:6px;padding:6px 10px;border-radius:8px;background:rgba(231,76,60,.08);border:1px solid rgba(231,76,60,.2)">';
    h+=bIconSm(draft.bans1[0])+'<span style="font-size:12px;font-weight:600;text-decoration:line-through;color:var(--red)">'+draft.bans1[0]+'</span></div>';
  }else{
    h+='<div style="padding:8px;border:1px dashed var(--border);border-radius:8px;text-align:center;font-size:10px;color:var(--t4)">BAN</div>';
  }
  h+='</div>';
  // Pick slots
  h+='<div style="display:flex;gap:8px">';
  for(var pi=0;pi<3;pi++){
    if(draft.picks1[pi]){
      h+='<div style="text-align:center;flex:1">'+bIcon(draft.picks1[pi],52);
      h+='<div style="font-size:9px;font-weight:700;margin-top:4px;color:var(--t1);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">'+draft.picks1[pi]+'</div></div>';
    }else{
      h+='<div style="flex:1;aspect-ratio:1;border:2px dashed var(--border);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:14px;color:var(--t4);font-weight:700">'+(pi+1)+'</div>';
    }
  }
  h+='</div></div>';

  // ── VS ──
  h+='<div style="display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:900;color:var(--t4)">VS</div>';

  // ── ENEMY TEAM ──
  h+='<div class="card" style="padding:16px;border-color:rgba(231,76,60,.15)">';
  h+='<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px"><span style="font-weight:800;color:var(--red);font-size:12px;letter-spacing:.5px">ENEMY TEAM</span>';
  if(draft.fp===2)h+='<span style="font-size:9px;padding:2px 6px;border-radius:4px;background:rgba(231,76,60,.15);color:var(--red);font-weight:700">1ST PICK</span>';
  h+='</div>';
  // Ban slot
  h+='<div style="margin-bottom:12px">';
  if(draft.bans2[0]){
    h+='<div style="display:flex;align-items:center;gap:6px;padding:6px 10px;border-radius:8px;background:rgba(231,76,60,.08);border:1px solid rgba(231,76,60,.2)">';
    h+=bIconSm(draft.bans2[0])+'<span style="font-size:12px;font-weight:600;text-decoration:line-through;color:var(--red)">'+draft.bans2[0]+'</span></div>';
  }else{
    h+='<div style="padding:8px;border:1px dashed var(--border);border-radius:8px;text-align:center;font-size:10px;color:var(--t4)">BAN</div>';
  }
  h+='</div>';
  // Pick slots
  h+='<div style="display:flex;gap:8px">';
  for(var pi2=0;pi2<3;pi2++){
    if(draft.picks2[pi2]){
      h+='<div style="text-align:center;flex:1">'+bIcon(draft.picks2[pi2],52);
      h+='<div style="font-size:9px;font-weight:700;margin-top:4px;color:var(--t1);white-space:nowrap;overflow:hidden;text-overflow:ellipsis">'+draft.picks2[pi2]+'</div></div>';
    }else{
      h+='<div style="flex:1;aspect-ratio:1;border:2px dashed var(--border);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:14px;color:var(--t4);font-weight:700">'+(pi2+1)+'</div>';
    }
  }
  h+='</div></div></div>';

  // Advantage bar
  if(draft.picks1.length>0||draft.picks2.length>0){
    var t2Pct=(100-advPct).toFixed(1);
    h+='<div class="card" style="padding:12px 20px"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">';
    h+='<span style="font-weight:700;font-size:12px;color:var(--green)">YOU '+advPct.toFixed(1)+'%</span>';
    h+='<span style="font-size:10px;color:var(--t3);font-weight:700;letter-spacing:1px">ADVANTAGE</span>';
    h+='<span style="font-weight:700;font-size:12px;color:var(--red)">'+t2Pct+'% ENEMY</span></div>';
    h+='<div class="adv-bar"><div class="adv-bar-l" style="width:'+advPct.toFixed(1)+'%"></div><div class="adv-bar-r" style="width:'+t2Pct+'%"></div></div></div>';
  }

  // Current step or result
  var isBotTurn=!done&&curTeam===2;
  if(!done){
    var teamLabel=curTeam===1?"YOUR TEAM":"ENEMY";
    var stepColor=curTeam===1?"var(--green)":"var(--red)";
    var typeIcon=curType==="ban"?sIco("down"):sIco("up");
    var typeLabel=curType==="ban"?"BAN":"PICK";
    var typeBg=curTeam===1?(curType==="ban"?"rgba(231,76,60,.08)":"rgba(46,204,113,.08)"):"rgba(231,76,60,.08)";
    var typeBorder=curTeam===1?(curType==="ban"?"rgba(231,76,60,.2)":"rgba(46,204,113,.2)"):"rgba(231,76,60,.2)";
    h+='<div style="display:flex;align-items:center;justify-content:space-between;padding:14px 20px;background:'+typeBg+';border-radius:10px;border:1px solid '+typeBorder+';margin-bottom:12px">';
    h+='<div><div style="font-size:10px;color:var(--t3);font-weight:700;letter-spacing:1px">STEP '+(step+1)+'/8</div>';
    if(isBotTurn){
      h+='<div style="font-size:16px;font-weight:900;color:var(--red)">'+sIco("target")+' BOT '+typeLabel+'ING...</div>';
    }else{
      h+='<div style="font-size:16px;font-weight:900;color:'+stepColor+'">'+teamLabel+' — '+typeIcon+' '+typeLabel+'</div>';
    }
    h+='</div>';
    h+='<button class="btn" onclick="draft.started=false;draft.fp=0;draft.selMode=\'\';draft.selMap=\'\';go(\'draft\')" style="font-size:11px;padding:6px 12px">↺ Reset</button></div>';
  }else{
    var t2F=(100-advPct).toFixed(1);
    var winLabel=advPct>=50?"YOUR TEAM WINS THE DRAFT":"ENEMY WINS THE DRAFT";
    var winC=advPct>=50?"var(--green)":"var(--red)";
    h+='<div class="card" style="text-align:center;border-color:'+winC+';padding:24px">';
    h+='<div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase;letter-spacing:2px;margin-bottom:8px">RESULT</div>';
    h+='<div style="font-size:20px;font-weight:900;color:'+winC+'">'+winLabel+'</div>';
    h+='<div style="font-size:48px;font-weight:900;font-family:var(--mono);color:'+winC+';margin:8px 0">'+advPct.toFixed(1)+'%<span style="font-size:20px;color:var(--t3)"> — </span>'+t2F+'%</div>';
    h+='<div class="adv-bar" style="max-width:400px;margin:12px auto"><div class="adv-bar-l" style="width:'+advPct.toFixed(1)+'%"></div><div class="adv-bar-r" style="width:'+t2F+'%"></div></div>';
    h+=renderH2HDetails(s);
    h+='<button class="btn btn-g" style="margin-top:16px;padding:10px 24px" onclick="draft.started=false;draft.fp=0;draft.selMode=\'\';draft.selMap=\'\';go(\'draft\')">↺ New Draft</button></div>';
  }

  // Brawler selection grid (only show when it's user's turn)
  if(!done&&!isBotTurn){
    h+='<input class="search-box" id="draftSearch" placeholder="⌕ Search brawler..." oninput="filterDraftGrid()" style="max-width:100%">';
    h+='<div class="pills" id="draftCPills"><div class="pill white" onclick="setDraftCF(\'\')">ALL</div>';
    for(var ci=0;ci<CLASSES.length;ci++){var c=CLASSES[ci];h+='<div class="pill" onclick="setDraftCF(\''+c+'\')">'+clsIco(c,14)+' '+c.toUpperCase()+'</div>';}
    h+='</div>';
    var used=draft.bans1.concat(draft.bans2,draft.picks1,draft.picks2);
    h+='<div class="b-grid" id="draftGrid" style="grid-template-columns:repeat(auto-fill,minmax(56px,1fr))">';
    for(var gi=0;gi<draft.allBrawlers.length;gi++){
      var bn=draft.allBrawlers[gi];var isUsed=used.indexOf(bn)>=0;
      h+='<div class="b-icon'+(isUsed?" used":"")+'" style="background:'+bc(bn)+';'+(isUsed?"opacity:.15;pointer-events:none":"")+'" data-b="'+bn+'" data-cls="'+(BCLS[bn]||"")+'" onclick="draftSelect(\''+bn.replace(/'/g,"\\'")+'\')">';
      if(bImgSrc(bn))h+='<img src="'+bImgSrc(bn)+'" crossorigin="anonymous" loading="lazy" style="width:100%;height:100%;object-fit:cover;border-radius:8px;position:absolute;top:0;left:0" onerror="this.onerror=null;this.src=\''+bImgSrc2(bn)+'\'">';
      h+='<div class="b-icon-name">'+bn+'</div></div>';
    }
    h+='</div>';
  }
  h+='</div>';
  el.innerHTML=h;
}

var _draftCF="";
function setDraftCF(c){_draftCF=c;var pills=document.querySelectorAll("#draftCPills .pill");pills.forEach(function(p){p.classList.remove("white","green");});if(!c)pills[0].classList.add("white");else pills.forEach(function(p){if(p.textContent.toUpperCase().indexOf(c.toUpperCase())>=0)p.classList.add("green");});filterDraftGrid();}
function filterDraftGrid(){var v=(document.getElementById("draftSearch")?document.getElementById("draftSearch").value:"").toLowerCase();document.querySelectorAll("#draftGrid .b-icon").forEach(function(e){if(e.classList.contains("used")){e.style.display="none";return;}var nm=e.dataset.b.toLowerCase().indexOf(v)>=0;var cm=!_draftCF||e.dataset.cls===_draftCF;e.style.display=(nm&&cm)?"":"none";});}

function draftSelect(name){
  if(draft.step>=8)return;
  var seq=DRAFT_SEQ[draft.step];
  var team=draftTeam(draft.step);
  // Only allow user to pick for team 1
  if(team!==1)return;
  if(seq.type==="ban"){
    draft.bans1.push(name);
  }else{
    draft.picks1.push(name);
  }
  draft.step++;
  var s=compute(getFD());
  renderDraft(document.getElementById("pg-draft"),s);
  // Trigger bot if next step is bot's turn
  afterUserPick();
}

// Trigger bot at draft start if bot goes first
function triggerBotIfNeeded(){
  if(draft.step<8){
    var nextTeam=draftTeam(draft.step);
    if(nextTeam===2){
      setTimeout(function(){
        var s2=compute(getFD());
        botAutoPick(s2);
        renderDraft(document.getElementById("pg-draft"),s2);
      },500);
    }
  }
}

function calcDraftAdv(s){
  var t1=0,t2=0,n1=draft.picks1.length,n2=draft.picks2.length;
  var i,j,bd,k,m;
  // Individual WR scores
  for(i=0;i<n1;i++){bd=null;for(j=0;j<s.brawlers.length;j++){if(s.brawlers[j].name===draft.picks1[i]){bd=s.brawlers[j];break;}}t1+=bd?(+bd.wr):50;}
  for(i=0;i<n2;i++){bd=null;for(j=0;j<s.brawlers.length;j++){if(s.brawlers[j].name===draft.picks2[i]){bd=s.brawlers[j];break;}}t2+=bd?(+bd.wr):50;}
  // H2H matchup bonuses
  for(i=0;i<n1;i++){for(j=0;j<n2;j++){
    k=draft.picks1[i]+"_vs_"+draft.picks2[j];m=s.counters[k];
    if(m&&m.t>=2){var wr=(m.w/m.t)*100;if(wr>50)t1+=(wr-50)*0.4;else t2+=(50-wr)*0.4;}
  }}
  if(t1===0&&t2===0)return 50;
  return(t1/(t1+t2))*100;
}

function renderH2HDetails(s){
  var h='<div style="margin-top:16px;text-align:left">';
  var details=[];
  for(var i=0;i<draft.picks1.length;i++){for(var j=0;j<draft.picks2.length;j++){
    var k=draft.picks1[i]+"_vs_"+draft.picks2[j];var m=s.counters[k];
    if(m&&m.t>=2){details.push({a:draft.picks1[i],e:draft.picks2[j],wr:((m.w/m.t)*100).toFixed(1),w:m.w,t:m.t});}
  }}
  if(details.length){
    h+='<div style="font-weight:700;font-size:12px;color:var(--t3);text-transform:uppercase;margin-bottom:8px">Head-to-Head</div><table><thead><tr><th>You</th><th>vs</th><th>WR</th><th>Record</th></tr></thead><tbody>';
    for(var d=0;d<details.length;d++){var dd=details[d];h+='<tr><td><div style="display:flex;align-items:center;gap:4px">'+bIconSm(dd.a)+' '+dd.a+'</div></td><td><div style="display:flex;align-items:center;gap:4px">'+bIconSm(dd.e)+' '+dd.e+'</div></td><td class="'+wrCol(dd.wr)+'" style="font-family:var(--mono)">'+dd.wr+'%</td><td style="font-size:12px;color:var(--t3)">'+dd.w+'W-'+(dd.t-dd.w)+'L</td></tr>';}
    h+='</tbody></table>';
  }
  h+='</div>';return h;
}

// ═══ MAP STATS ═══
var _mapFilter="";
function pgMaps(el,s,data){
  var h='<div class="fade">';
  h+='<div style="display:flex;align-items:center;gap:10px;margin-bottom:16px"><span style="font-size:24px;font-weight:900">MAP STATS</span></div>';
  // Dynamic mode pills from actual data
  var mapModes={};for(var mmi=0;mmi<data.length;mmi++){if(data[mmi].mode)mapModes[data[mmi].mode]=1;}
  var mapModeList=[];for(var mmk in mapModes)mapModeList.push(mmk);
  var mmOrder={};for(var mmo=0;mmo<MODES.length;mmo++)mmOrder[MODES[mmo]]=mmo;
  mapModeList.sort(function(a,b){var oa=mmOrder[a]!=null?mmOrder[a]:100,ob=mmOrder[b]!=null?mmOrder[b]:100;return oa!==ob?oa-ob:a.localeCompare(b);});
  h+='<div class="pills" id="mapModePills"><div class="pill '+(!_mapFilter?"white":"")+'" onclick="setMapMF(\'\')">ALL</div>';
  for(var mi=0;mi<mapModeList.length;mi++){var mo=mapModeList[mi];h+='<div class="pill '+(_mapFilter===mo?"green":"")+'" onclick="setMapMF(\''+mo+'\')">'+mIco(mo)+mo.toUpperCase()+'</div>';}
  h+='</div>';
  h+='<div style="display:grid;grid-template-columns:300px 1fr;gap:20px">';
  h+='<div><input class="search-box" id="mapSearch" placeholder="Search map..." oninput="filterMapList()" style="max-width:100%">';
  h+='<div id="mapList" style="display:flex;flex-direction:column;gap:6px;margin-top:8px;max-height:calc(100vh - 260px);overflow-y:auto">';
  // Build map data with per-brawler stats
  var mapData={};
  for(var di=0;di<data.length;di++){var r=data[di];if(!r.map)continue;
    if(!mapData[r.map])mapData[r.map]={name:r.map,mode:r.mode||"",w:0,t:0,brawlers:{},teams:{}};
    var md=mapData[r.map];md.t++;if(r.result==="victory")md.w++;
    var myB=[r.brawler1,r.brawler2,r.brawler3].filter(Boolean);
    myB.forEach(function(b){if(!md.brawlers[b])md.brawlers[b]={w:0,p:0};md.brawlers[b].p++;if(r.result==="victory")md.brawlers[b].w++;});
    if(r.team1_name){if(!md.teams[r.team1_name])md.teams[r.team1_name]={w:0,p:0};md.teams[r.team1_name].p++;if(r.result==="victory")md.teams[r.team1_name].w++;}
  }
  var mapList=[];for(var mk in mapData){mapList.push(mapData[mk]);}
  mapList.sort(function(a,b){return b.t-a.t;});
  for(var li=0;li<mapList.length;li++){
    var ml=mapList[li];var mwr=ml.t?((ml.w/ml.t)*100).toFixed(1):"0";
    if(_mapFilter&&ml.mode!==_mapFilter)continue;
    // Find best brawler on this map (min 2 picks)
    var bestB=null,bestBWr=0;
    for(var bk in ml.brawlers){var bs=ml.brawlers[bk];if(bs.p>=2){var bwr=(bs.w/bs.p)*100;if(bwr>bestBWr){bestBWr=bwr;bestB={name:bk,wr:bwr.toFixed(0),p:bs.p};}}}
    // Find best team on this map
    var bestT=null,bestTWr=0;
    for(var tk in ml.teams){var ts=ml.teams[tk];if(ts.p>=2&&tk.indexOf("Unknown")!==0){var twr=(ts.w/ts.p)*100;if(twr>bestTWr){bestTWr=twr;bestT={name:tk,wr:twr.toFixed(0),p:ts.p};}}}
    h+='<div class="map-list-item" data-map="'+ml.name+'" data-mode="'+ml.mode+'" onclick="showMapDetail(\''+ml.name.replace(/'/g,"\\'")+'\')" style="padding:10px 12px;border-radius:8px;background:var(--bg3);border:1px solid var(--border);cursor:pointer;transition:all .15s" onmouseover="this.style.borderColor=\'var(--green)\'" onmouseout="this.style.borderColor=\'var(--border)\'">';
    var _mlId=getMapId(ml.name);
    h+='<div style="display:flex;justify-content:space-between;align-items:center">';
    h+='<div style="display:flex;align-items:center;gap:10px">';
    if(_mlId)h+='<img src="https://cdn.brawlify.com/maps/regular/'+_mlId+'.png" style="width:32px;height:42px;border-radius:4px;object-fit:cover;border:1px solid var(--border);flex-shrink:0" crossorigin="anonymous" loading="lazy" onerror="this.style.display=\'none\'">';
    h+='<div><div style="font-weight:700;font-size:13px">'+ml.name+'</div>';
    h+='<div style="font-size:10px;color:'+(MC[ml.mode]||"var(--t3)")+';font-weight:600;margin-top:2px;display:flex;align-items:center;gap:4px">'+mIco(ml.mode)+'<span>'+ml.mode+' · '+ml.t+' games</span></div>';
    // Best brawler row
    if(bestB){
      h+='<div style="display:flex;align-items:center;gap:3px;margin-top:3px">';
      h+='<span style="font-size:9px;color:var(--t3)">MVP:</span>';
      h+=bIconSm(bestB.name);
      h+='<span style="font-size:10px;font-weight:700;color:var(--green)">'+bestB.wr+'%</span>';
      if(bestT){
        h+='<span style="font-size:9px;color:var(--t3);margin-left:4px">Best:</span>';
        var tLogo=teamLogo(bestT.name,14);
        if(tLogo){h+=tLogo;}else{h+='<span style="font-size:9px;font-weight:700;color:var(--t2)">'+bestT.name.replace(/[^A-Z0-9]/gi,"").slice(0,3).toUpperCase()+'</span>';}
        h+='<span style="font-size:10px;font-weight:600;color:#3498db">'+bestT.wr+'%</span>';
      }
      h+='</div>';
    }
    h+='</div></div>';
    h+='<span class="'+wrCol(mwr)+'" style="font-family:var(--mono);font-weight:700;font-size:14px">'+mwr+'%</span>';
    h+='</div></div>';
  }
  h+='</div></div>';
  h+='<div id="mapDetail"><div style="color:var(--t3);text-align:center;padding:60px">← Select a map</div></div>';
  h+='</div></div>';
  el.innerHTML=h;
}
function setMapMF(m){_mapFilter=m;go("maps");}
function filterMapList(){var v=document.getElementById("mapSearch").value.toLowerCase();document.querySelectorAll(".map-list-item").forEach(function(e){e.style.display=e.dataset.map.toLowerCase().indexOf(v)>=0?"":"none";});}

function showMapDetail(mapName){
  var data=getFD()||[];var s=compute(data);
  document.querySelectorAll(".map-list-item").forEach(function(e){e.style.borderColor=e.dataset.map===mapName?"var(--green)":"var(--border)";e.style.background=e.dataset.map===mapName?"var(--bg4)":"var(--bg3)";});

  // Compute per-brawler, per-team, per-player stats on this map
  var bMap={},tMap={},pMap={},totalOnMap=0,winsOnMap=0,mapMode="";
  for(var i=0;i<data.length;i++){var r=data[i];if(r.map!==mapName)continue;
    totalOnMap++;if(r.result==="victory")winsOnMap++;
    if(r.mode)mapMode=r.mode;
    var myB=[r.brawler1,r.brawler2,r.brawler3].filter(Boolean);
    myB.forEach(function(b){if(!bMap[b])bMap[b]={name:b,w:0,p:0};bMap[b].p++;if(r.result==="victory")bMap[b].w++;});
    // Team stats (both sides)
    [r.team1_name,r.team2_name].forEach(function(tn,idx){
      if(!tn)return;
      if(!tMap[tn])tMap[tn]={name:tn,w:0,p:0};tMap[tn].p++;
      var isWin=(idx===0&&r.result==="victory")||(idx===1&&r.result!=="victory");
      if(isWin)tMap[tn].w++;
    });
    // Player stats (team1 players)
    var pls=[r.player1,r.player2,r.player3].filter(Boolean);
    pls.forEach(function(p){if(!pMap[p])pMap[p]={name:p,w:0,p:0,team:r.team1_name||""};pMap[p].p++;if(r.result==="victory")pMap[p].w++;});
    // Enemy players
    var epls=[r.eplayer1,r.eplayer2,r.eplayer3].filter(Boolean);
    epls.forEach(function(p){if(!pMap[p])pMap[p]={name:p,w:0,p:0,team:r.team2_name||""};pMap[p].p++;if(r.result!=="victory")pMap[p].w++;});
  }
  var bList=[];for(var bk in bMap){var bb=bMap[bk];bList.push({name:bb.name,w:bb.w,p:bb.p,wr:bb.p?((bb.w/bb.p)*100).toFixed(2):"0",pr:totalOnMap?((bb.p/totalOnMap)*100).toFixed(2):"0"});}
  bList.sort(function(a,b){return b.p-a.p;});
  var tList=[];for(var tk in tMap){var tt=tMap[tk];tList.push({name:tt.name,w:tt.w,p:tt.p,wr:tt.p?((tt.w/tt.p)*100).toFixed(1):"0"});}
  tList.sort(function(a,b){return b.p-a.p;});
  var pList=[];for(var pk in pMap){var pp=pMap[pk];if(pp.p>=2)pList.push({name:pp.name,w:pp.w,p:pp.p,wr:pp.p?((pp.w/pp.p)*100).toFixed(1):"0",team:pp.team});}
  pList.sort(function(a,b){return(+b.wr)-(+a.wr)||(b.p-a.p);});
  var totalBrawlers=bList.length;
  var mapWr=totalOnMap?((winsOnMap/totalOnMap)*100).toFixed(1):"0";

  var allMaps=s.maps.slice().sort(function(a,b){return b.t-a.t;});
  var rank=1;for(var ri=0;ri<allMaps.length;ri++){if(allMaps[ri].name===mapName){rank=ri+1;break;}}

  var h='<div class="card fade">';
  var _detMapId=getMapId(mapName);
  h+='<div style="display:flex;align-items:center;gap:16px;margin-bottom:20px">';
  if(_detMapId){
    h+='<div style="width:64px;height:84px;border-radius:10px;overflow:hidden;border:2px solid '+(MC[mapMode]||"var(--border)")+';flex-shrink:0">';
    h+='<img src="https://cdn.brawlify.com/maps/regular/'+_detMapId+'.png" style="width:100%;height:100%;object-fit:cover" crossorigin="anonymous" loading="lazy" onerror="this.parentElement.style.display=\'none\'">';
    h+='</div>';
  }else{
    h+='<div style="width:80px;height:80px;border-radius:12px;background:'+(MC[mapMode]||"var(--bg4)")+';display:flex;align-items:center;justify-content:center">'+(MODE_ICO[mapMode]?"<img src=\'"+MODE_ICO[mapMode]+"\' style=\'width:48px;height:48px;object-fit:contain\'>":sIco("map"))+'</div>';
  }
  h+='<div><div style="font-size:24px;font-weight:900;text-transform:uppercase">'+mapName+'</div>';
  h+='<div style="font-size:13px;color:'+(MC[mapMode]||"var(--t3)")+';font-weight:600;margin-top:2px;display:flex;align-items:center;gap:5px">'+mIco(mapMode)+'<span>'+mapMode+' · '+totalOnMap+' games</span></div></div></div>';

  // KPI cards
  h+='<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:20px">';
  h+='<div style="background:var(--bg3);border-radius:8px;padding:12px;text-align:center"><div style="font-size:22px;font-weight:900;font-family:var(--mono)">'+totalOnMap+'</div><div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase">GAMES</div></div>';
  h+='<div style="background:var(--bg3);border-radius:8px;padding:12px;text-align:center"><div style="font-size:22px;font-weight:900;font-family:var(--mono)">'+totalBrawlers+'</div><div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase">BRAWLERS</div></div>';
  h+='<div style="background:var(--bg3);border-radius:8px;padding:12px;text-align:center"><div style="font-size:22px;font-weight:900;font-family:var(--mono);color:'+wrHex(mapWr)+'">'+mapWr+'%</div><div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase">AVG WIN RATE</div></div>';
  h+='<div style="background:var(--bg3);border-radius:8px;padding:12px;text-align:center"><div style="font-size:22px;font-weight:900;font-family:var(--mono)">#'+rank+'</div><div style="font-size:10px;color:var(--t3);font-weight:700;text-transform:uppercase">RANK</div></div>';
  h+='</div>';

  // ═══ BEST ON THIS MAP (Brawler / Team / Player) ═══
  var bestBSorted=bList.slice().filter(function(x){return x.p>=2;}).sort(function(a,b){return(+b.wr)-(+a.wr);});
  var bestTSorted=tList.slice().filter(function(x){return x.p>=2;}).sort(function(a,b){return(+b.wr)-(+a.wr);});
  h+='<div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:20px">';
  // Best Brawler
  h+='<div style="background:linear-gradient(135deg,rgba(46,204,113,.12),rgba(46,204,113,.03));border:1px solid rgba(46,204,113,.25);border-radius:12px;padding:16px;text-align:center">';
  h+='<div style="font-size:10px;font-weight:800;color:var(--green);text-transform:uppercase;margin-bottom:8px">🏆 BEST BRAWLER</div>';
  if(bestBSorted.length){var bb1=bestBSorted[0];
    h+='<div style="margin-bottom:4px">'+bIcon(bb1.name,48)+'</div>';
    h+='<div style="font-weight:800;font-size:14px">'+bb1.name+'</div>';
    h+='<div style="font-family:var(--mono);font-weight:700;color:var(--green);font-size:20px">'+bb1.wr+'%</div>';
    h+='<div style="font-size:10px;color:var(--t3)">'+bb1.p+' games</div>';
  }else{h+='<div style="color:var(--t3);font-size:12px">Not enough data</div>';}
  h+='</div>';
  // Best Team
  h+='<div style="background:linear-gradient(135deg,rgba(52,152,219,.12),rgba(52,152,219,.03));border:1px solid rgba(52,152,219,.25);border-radius:12px;padding:16px;text-align:center">';
  h+='<div style="font-size:10px;font-weight:800;color:#3498db;text-transform:uppercase;margin-bottom:8px">🛡️ BEST TEAM</div>';
  if(bestTSorted.length){var bt1=bestTSorted[0];var tInf=teamInfo(bt1.name);var tdn=tInf?tInf.org:bt1.name;
    h+='<div style="margin-bottom:4px">'+teamLogo(bt1.name,40)+'</div>';
    h+='<div style="font-weight:800;font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">'+tdn+'</div>';
    h+='<div style="font-family:var(--mono);font-weight:700;color:#3498db;font-size:20px">'+bt1.wr+'%</div>';
    h+='<div style="font-size:10px;color:var(--t3)">'+bt1.p+' games</div>';
  }else{h+='<div style="color:var(--t3);font-size:12px">Not enough data</div>';}
  h+='</div>';
  // Best Player
  h+='<div style="background:linear-gradient(135deg,rgba(155,89,182,.12),rgba(155,89,182,.03));border:1px solid rgba(155,89,182,.25);border-radius:12px;padding:16px;text-align:center">';
  h+='<div style="font-size:10px;font-weight:800;color:#9b59b6;text-transform:uppercase;margin-bottom:8px">⭐ BEST PLAYER</div>';
  if(pList.length){var bp1=pList[0];
    h+='<div style="width:40px;height:40px;border-radius:50%;background:#9b59b6;display:inline-flex;align-items:center;justify-content:center;font-weight:900;font-size:18px;color:#fff;margin-bottom:4px">'+bp1.name.charAt(0).toUpperCase()+'</div>';
    h+='<div style="font-weight:800;font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">'+bp1.name+'</div>';
    h+='<div style="font-family:var(--mono);font-weight:700;color:#9b59b6;font-size:20px">'+bp1.wr+'%</div>';
    h+='<div style="font-size:10px;color:var(--t3)">'+bp1.p+' games</div>';
  }else{h+='<div style="color:var(--t3);font-size:12px">Not enough data</div>';}
  h+='</div>';
  h+='</div>';

  // ═══ TEAM RANKINGS ON THIS MAP ═══
  if(tList.length>1){
    h+='<div style="font-weight:900;font-size:14px;text-transform:uppercase;margin-bottom:10px">📊 TEAM RANKINGS ON THIS MAP</div>';
    h+='<div style="overflow-x:auto;margin-bottom:20px"><table><thead><tr><th>#</th><th>TEAM</th><th>WIN RATE</th><th>W</th><th>L</th><th>GAMES</th></tr></thead><tbody>';
    var tSorted=tList.slice().sort(function(a,b){return(+b.wr)-(+a.wr);});
    for(var ti2=0;ti2<tSorted.length;ti2++){var tm=tSorted[ti2];var tI2=teamInfo(tm.name);var dn2=tI2?tI2.org:tm.name;
      h+='<tr><td style="font-weight:800;color:var(--t3);font-family:var(--mono)">#'+(ti2+1)+'</td>';
      h+='<td><div style="display:flex;align-items:center;gap:8px">'+teamLogo(tm.name,24)+'<span style="font-weight:700;font-size:13px">'+dn2+'</span></div></td>';
      h+='<td class="'+wrCol(tm.wr)+'" style="font-family:var(--mono);font-weight:700">'+tm.wr+'%</td>';
      h+='<td style="font-family:var(--mono);color:var(--green)">'+tm.w+'</td>';
      h+='<td style="font-family:var(--mono);color:var(--red)">'+(tm.p-tm.w)+'</td>';
      h+='<td style="font-family:var(--mono);font-weight:600">'+tm.p+'</td></tr>';
    }
    h+='</tbody></table></div>';
  }

  // ═══ TOP PLAYERS ON THIS MAP ═══
  if(pList.length>0){
    h+='<div style="font-weight:900;font-size:14px;text-transform:uppercase;margin-bottom:10px">⭐ TOP PLAYERS ON THIS MAP <span style="font-size:11px;color:var(--t3);font-weight:600">(min 2 games)</span></div>';
    h+='<div style="overflow-x:auto;margin-bottom:20px"><table><thead><tr><th>#</th><th>PLAYER</th><th>TEAM</th><th>WIN RATE</th><th>W</th><th>L</th><th>GAMES</th></tr></thead><tbody>';
    var topP=pList.slice(0,15);
    for(var pi2=0;pi2<topP.length;pi2++){var pl=topP[pi2];var pTI=teamInfo(pl.team);var pTN=pTI?pTI.org:pl.team;
      h+='<tr><td style="font-weight:800;color:var(--t3);font-family:var(--mono)">#'+(pi2+1)+'</td>';
      h+='<td style="font-weight:700;font-size:13px">'+pl.name+'</td>';
      h+='<td><div style="display:flex;align-items:center;gap:4px">'+teamLogo(pl.team,18)+'<span style="font-size:11px;color:var(--t3)">'+pTN+'</span></div></td>';
      h+='<td class="'+wrCol(pl.wr)+'" style="font-family:var(--mono);font-weight:700">'+pl.wr+'%</td>';
      h+='<td style="font-family:var(--mono);color:var(--green)">'+pl.w+'</td>';
      h+='<td style="font-family:var(--mono);color:var(--red)">'+(pl.p-pl.w)+'</td>';
      h+='<td style="font-family:var(--mono);font-weight:600">'+pl.p+'</td></tr>';
    }
    h+='</tbody></table></div>';
  }

  // Brawler table
  h+='<div style="font-weight:900;font-size:14px;text-transform:uppercase;margin-bottom:12px">ALL BRAWLERS ON '+mapName.toUpperCase()+'</div>';
  h+='<div style="overflow-x:auto"><table><thead><tr><th>#</th><th>BRAWLER</th><th>WIN RATE</th><th>PICK RATE</th><th>W</th><th>L</th><th>GAMES</th></tr></thead><tbody>';
  for(var bi=0;bi<bList.length;bi++){
    var bb2=bList[bi];
    h+='<tr style="cursor:pointer" onclick="showB(\''+bb2.name.replace(/'/g,"\\'")+'\')" onmouseover="this.style.background=\'var(--bg4)\'" onmouseout="this.style.background=\'\'">';
    h+='<td style="font-weight:800;color:var(--t3);font-family:var(--mono)">#'+(bi+1)+'</td>';
    h+='<td><div style="display:flex;align-items:center;gap:8px">'+bIcon(bb2.name,32)+'<span style="font-weight:700">'+bb2.name+'</span></div></td>';
    h+='<td class="'+wrCol(bb2.wr)+'" style="font-family:var(--mono);font-weight:700">'+bb2.wr+'%</td>';
    h+='<td style="font-family:var(--mono);color:var(--t2)">'+bb2.pr+'%</td>';
    h+='<td style="font-family:var(--mono);color:var(--green)">'+bb2.w+'</td>';
    h+='<td style="font-family:var(--mono);color:var(--red)">'+(bb2.p-bb2.w)+'</td>';
    h+='<td style="font-family:var(--mono);font-weight:600">'+bb2.p+'</td>';
    h+='</tr>';
  }
  h+='</tbody></table></div>';

  // Top 3 best brawlers highlight
  if(bestBSorted.length>=3){
    var top3=bestBSorted.slice(0,3);
    h+='<div style="margin-top:16px"><div style="font-weight:900;font-size:13px;text-transform:uppercase;color:var(--green);margin-bottom:10px">'+sIco("up")+'BEST BRAWLERS ON THIS MAP</div>';
    h+='<div style="display:flex;gap:12px">';
    for(var ti=0;ti<top3.length;ti++){var tb=top3[ti];
      h+='<div style="flex:1;background:var(--green-bg);border:1px solid rgba(46,204,113,.2);border-radius:10px;padding:12px;text-align:center">';
      h+='<div style="margin-bottom:6px">'+bIcon(tb.name,40)+'</div>';
      h+='<div style="font-weight:800;font-size:13px">'+tb.name+'</div>';
      h+='<div style="font-family:var(--mono);font-weight:700;color:var(--green);font-size:16px;margin-top:2px">'+tb.wr+'%</div>';
      h+='<div style="font-size:10px;color:var(--t3)">'+tb.p+' games</div></div>';
    }
    h+='</div></div>';
  }

  // Worst 3
  var worstBSorted=bList.slice().filter(function(x){return x.p>=2;}).sort(function(a,b){return(+a.wr)-(+b.wr);});
  if(worstBSorted.length>=6){
    var worst3=worstBSorted.slice(0,3);
    h+='<div style="margin-top:12px"><div style="font-weight:900;font-size:13px;text-transform:uppercase;color:var(--red);margin-bottom:10px">▼ WORST BRAWLERS ON THIS MAP</div>';
    h+='<div style="display:flex;gap:12px">';
    for(var wi=0;wi<worst3.length;wi++){var wb=worst3[wi];
      h+='<div style="flex:1;background:var(--red-bg);border:1px solid rgba(231,76,60,.2);border-radius:10px;padding:12px;text-align:center">';
      h+='<div style="margin-bottom:6px">'+bIcon(wb.name,40)+'</div>';
      h+='<div style="font-weight:800;font-size:13px">'+wb.name+'</div>';
      h+='<div style="font-family:var(--mono);font-weight:700;color:var(--red);font-size:16px;margin-top:2px">'+wb.wr+'%</div>';
      h+='<div style="font-size:10px;color:var(--t3)">'+wb.p+' games</div></div>';
    }
    h+='</div></div>';
  }

  h+='</div>';
  document.getElementById("mapDetail").innerHTML=h;
}

// ═══ IMPORT ═══
function pgImport(el){
  var h='<div class="fade">';
  // Google Sheets card
  h+='<div class="card" style="border:1px solid var(--green);border-radius:16px">';
  h+='<div style="display:flex;align-items:center;gap:10px;margin-bottom:14px"><div style="width:36px;height:36px;border-radius:10px;background:var(--green);display:flex;align-items:center;justify-content:center"><svg width="20" height="20" fill="#000" viewBox="0 0 24 24"><path d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg></div>';
  h+='<div><div style="font-size:16px;font-weight:900">Google Sheets API</div><div style="font-size:11px;color:var(--t3)">Auto-sync compétitif data</div></div></div>';
  h+='<div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">';
  h+='<div style="padding:8px 14px;border-radius:8px;background:var(--green);color:#000;font-weight:800;font-size:13px;display:inline-block">✅ Data Loaded</div>';
  h+='</div>';
  h+='<div style="margin-top:12px;display:flex;gap:16px;flex-wrap:wrap">';
  h+='<div style="text-align:center;padding:12px 16px;border-radius:10px;background:var(--bg3)"><div style="font-size:28px;font-weight:900;font-family:var(--mono);color:var(--green)">'+matchData.length+'</div><div style="font-size:10px;color:var(--t3)">GAMES</div></div>';
  var sets={};matchData.forEach(function(r){if(r.set_id)sets[r.set_id]=1;});
  h+='<div style="text-align:center;padding:12px 16px;border-radius:10px;background:var(--bg3)"><div style="font-size:28px;font-weight:900;font-family:var(--mono);color:#3498db">'+Object.keys(sets).length+'</div><div style="font-size:10px;color:var(--t3)">SETS</div></div>';
  if(matchData.length&&matchData[0].date){
    var dates=matchData.map(function(r){return r.date;}).filter(Boolean).sort();
    h+='<div style="text-align:center;padding:12px 16px;border-radius:10px;background:var(--bg3)"><div style="font-size:13px;font-weight:700;color:var(--t2)">'+dates[0]+'</div><div style="font-size:10px;color:var(--t3)">→ '+dates[dates.length-1]+'</div></div>';
  }
  h+='</div></div>';
  // Manual import card
  h+='<div class="card"><div class="card-t">Manual Import</div>';
  h+='<div class="dropzone" id="dz" onclick="document.getElementById(\'fIn\').click()"><input type="file" id="fIn" accept=".csv,.json" style="display:none" onchange="handleFile(this.files[0])"><div style="font-size:36px;margin-bottom:10px">⬆</div><div style="font-size:16px;font-weight:700">Drop CSV or JSON</div><div style="font-size:12px;color:var(--t3)">or click to browse</div></div>';
  h+='<div id="impSt" style="margin-top:14px;text-align:center;font-weight:700"></div>';
  h+='<button class="btn" style="width:100%;margin-top:8px;background:var(--bg3);color:var(--t2);border:1px solid var(--border)" onclick="loadDemo()">Load Demo (600 sets)</button>';
  h+='</div></div>';
  el.innerHTML=h;
  var dz=document.getElementById("dz");
  if(dz){
    dz.addEventListener("dragover",function(e){e.preventDefault();dz.style.borderColor="var(--green)";});
    dz.addEventListener("dragleave",function(){dz.style.borderColor="";});
    dz.addEventListener("drop",function(e){e.preventDefault();dz.style.borderColor="";handleFile(e.dataTransfer.files[0]);});
  }
}
function parseCSV(t){var l=t.trim().split("\n");if(l.length<2)return[];var hd=l[0].split(",").map(function(x){return x.trim().toLowerCase().replace(/['"]/g,"");});return l.slice(1).map(function(line){var v=line.split(",").map(function(x){return x.trim().replace(/['"]/g,"");});var r={};hd.forEach(function(k,i){r[k]=v[i]||"";});return r;}).filter(function(r){return r.result;});}
function handleFile(f){if(!f)return;var rd=new FileReader();rd.onload=function(e){try{var rows;if(f.name.endsWith(".json"))rows=JSON.parse(e.target.result);else rows=parseCSV(e.target.result);if(rows.length){matchData=rows;usingDemo=false;go("import");setTimeout(function(){var st=document.getElementById("impSt");if(st)st.innerHTML='<span style="color:var(--green)">✅ '+rows.length+' matches imported!</span>';},100);}else{document.getElementById("impSt").innerHTML='<span style="color:var(--red)">❌ No data</span>';}}catch(err){document.getElementById("impSt").innerHTML='<span style="color:var(--red)">❌ '+err.message+'</span>';}};rd.readAsText(f);}
function loadDemo(){matchData=genDemo();usingDemo=true;go("import");setTimeout(function(){document.getElementById("impSt").innerHTML='<span style="color:var(--green)">▶ Demo loaded</span>';},100);}

document.addEventListener("DOMContentLoaded",init);
</script>
</body>
</html>
